/*bitballs@0.0.1#models/tournament/tournament*/
define("bitballs@0.0.1#models/tournament/tournament",function(t,n,e){var a=t("can/map/"),r=t("can-connect/can/super-map/"),c=t("can-connect/can/tag/");t("can/map/define/");var s=a.extend({define:{jsDate:{get:function(){var t=this.attr("date");return t?new Date(t):null}},year:{get:function(){var t=this.attr("jsDate");return t?t.getFullYear():null}}}});s.List=can.List.extend({Map:s},{});var u=r({Map:s,List:s.List,url:"/services/tournaments",name:"tournament"});c("tournament-model",u),e.exports=s});
/*bitballs@0.0.1#models/team*/
define("bitballs@0.0.1#models/team",function(e,a,t){var r=e("can/map/"),n=e("can-connect/can/super-map/"),p=e("can-connect/can/tag/"),l=e("./player"),i=r.extend({colors:["Black","White","Red","Green","Blue","Yellow","Brown","Gray","Orange","Purple"]},{define:{tournamentId:{type:"number"},player1:{Type:l},player2:{Type:l},player3:{Type:l},player4:{Type:l},players:{get:function(){var e=[],a=this;return["player1","player2","player3","player4"].map(function(t){a.attr(t)&&e.push(a.attr(t))}),new l.List(e)}}}});i.List=can.List.extend({Map:i},{removeById:function(e){for(var a=0;a<this.length;)this[a].attr("id")===e?this.splice(a,1):a++}});var s=n({Map:i,List:i.List,url:"/services/teams",name:"team"});p("team-model",s),t.exports=i});
/*bitballs@0.0.1#models/stat*/
define("bitballs@0.0.1#models/stat",function(a,e,n){var t=a("can/map/"),s=a("can-connect/can/super-map/"),m=a("can-connect/can/tag/");a("can/map/define/");var c=t.extend({statTypes:[{name:"1P"},{name:"1PA"},{name:"2P"},{name:"2PA"},{name:"ORB"},{name:"DRB"},{name:"Ast"},{name:"Stl"},{name:"Blk"},{name:"To"}]},{define:{time:{set:function(a){return Math.round(a)}},player:{serialize:!1}}});c.List=can.List.extend({Map:c},{});var i=s({Map:c,List:c.List,url:"/services/stats",name:"stat"});m("stat-model",i),n.exports=c});
/*can@2.3.18#list/sort/sort*/
define("can@2.3.18#list/sort/sort",["can/util/util","can/list/list"],function(t){var r=t.List._bubbleRule;t.List._bubbleRule=function(a,i){var s=r.apply(this,arguments);return i.comparator&&-1===t.inArray("change",s)&&s.push("change"),s};var a=t.List.prototype,i=a._changes||function(){},s=a.setup,e=a.unbind;return t.extend(a,{setup:function(r,a){s.apply(this,arguments),this.bind("change",t.proxy(this._changes,this)),this._comparatorBound=!1,this.bind("comparator",t.proxy(this._comparatorUpdated,this)),delete this._init,this.comparator&&this.sort()},_comparatorUpdated:function(t,r){r||0===r?(this.sort(),this._bindings>0&&!this._comparatorBound&&this.bind("change",this._comparatorBound=function(){})):this._comparatorBound&&(e.call(this,"change",this._comparatorBound),this._comparatorBound=!1)},unbind:function(t,r){var a=e.apply(this,arguments);return this._comparatorBound&&1===this._bindings&&(e.call(this,"change",this._comparatorBound),this._comparatorBound=!1),a},_comparator:function(t,r){var a=this.comparator;return a&&"function"==typeof a?a(t,r):"string"==typeof t&&"string"==typeof r&&"".localeCompare?t.localeCompare(r):t===r?0:r>t?-1:1},_changes:function(r,a,s,e,o){var n=(""+a).indexOf(".");if(this.comparator&&-1!==n){if(r.batchNum)return r.batchNum===this._lastProcessedBatchNum?void 0:(this.sort(),void(this._lastProcessedBatchNum=r.batchNum));var h=+a.substr(0,n),p=this[h],c=a.substr(n+1);if("undefined"!=typeof p&&("string"!=typeof this.comparator||0===this.comparator.indexOf(c))){var u=this._getRelativeInsertIndex(p,h);u!==h&&(this._swapItems(h,u),t.batch.trigger(this,"length",[this.length]))}}i.apply(this,arguments)},_getInsertIndex:function(t,r,a){var i,s,e,o,n=0,h=this._getComparatorValue(t);for(r="number"==typeof r?r:0,a="number"==typeof a?a:this.length-1;a>=r;)o=(r+a)/2|0,e=this[o],i=this._getComparatorValue(e),s=this._comparator(h,i),0>s?a=o-1:s>=0&&(r=o+1,n=r);return n},_getRelativeInsertIndex:function(t,r){var a,i=this._getInsertIndex(t),s=r+1,e=this._getComparatorValue(t);return i>=r&&(i-=1),i>r&&s<this.length&&(a=this._getComparatorValue(this[s]),0===this._comparator(e,a))?r:i},_getComparatorValue:function(t){var r=this.comparator;return t&&r&&"string"==typeof r&&(t="function"==typeof t[r]?t[r]():t.attr(r)),t},_getComparatorValues:function(){var t=this,r=[];return this.each(function(a,i){r.push(t._getComparatorValue(a))}),r},sort:function(t){return arguments.length?this.attr("comparator",t):this._sort(),this},_sort:function(){for(var r,a,i,s,e,o,n=0,h=this.length;h-1>n;n++){for(o=n,s=!0,i=void 0,e=n+1;h>e;e++)r=this._getComparatorValue(this.attr(e)),a=this._getComparatorValue(this.attr(o)),this._comparator.call(this,r,a)<0&&(s=!1,o=e),i&&this._comparator.call(this,r,i)<0&&(s=!1),i=r;if(s)break;o!==n&&this._swapItems(o,n)}return t.batch.trigger(this,"length",[this.length]),this},_swapItems:function(r,a){var i=this[r];[].splice.call(this,r,1),[].splice.call(this,a,0,i),t.batch.trigger(this,"move",[i,a,r])}}),t.each({push:"length",unshift:0},function(r,a){var i=t.List.prototype,s=i[a];i[a]=function(){if(this.comparator&&arguments.length){for(var r,a,i=t.makeArray(arguments),e=i.length,o=0;e>o;)a=t.bubble.set(this,o,this.__type(i[o],o)),r=this._getInsertIndex(a),Array.prototype.splice.apply(this,[r,0,a]),this._triggerChange(""+r,"add",[a],void 0),o++;return t.batch.trigger(this,"reset",[i]),this}return s.apply(this,arguments)}}),function(){var r=t.List.prototype,a=r.splice;r.splice=function(i,s){var e=t.makeArray(arguments);return this.comparator?(a.call(this,i,s),e.splice(0,2),void r.push.apply(this,e)):a.apply(this,e)}}(),t.Map});
/*bitballs@0.0.1#models/game/game*/
define("bitballs@0.0.1#models/game/game",function(t,a,e){var n=t("can/map/"),r=t("can-connect/can/super-map/"),s=t("can-connect/can/tag/"),i=t("bitballs/models/team"),o=t("bitballs/models/player"),m=t("bitballs/models/stat");t("can/list/sort/");var u=n.extend({roundNames:["Round 1","Round 2","Round 3","Round 4","Round 5","Elimination","Quarter Finals","Semi Finals","Championship"]},{define:{tournamentId:{type:"number"},homeTeamId:{type:"number"},awayTeamId:{type:"number"},homeTeam:{Type:i},awayTeam:{Type:i},teams:{get:function(){var t=[],a=this.attr("homeTeam"),e=this.attr("awayTeam");return a&&t.push(a),e&&t.push(e),new i.List(t)}},players:{get:function(){var t=[];return this.attr("teams").forEach(function(a){[].push.apply(t,can.makeArray(a.attr("players")))}),new o.List(t)}},stats:{Type:m.List,set:function(t){return t.__listSet={gameId:this.attr("id")},t}},videoUrl:{set:function(t){var a=/^.*(?:youtu.be\/|v\/|e\/|u\/\w+\/|embed\/|v=)([^#\&\?]*).*/,e=t&&t.match(a),n=e&&e.length>1&&e[1]||t;return n}}},statsForPlayerId:function(t){return"function"==typeof t&&(t=t()),this.attr("stats").filter(function(a){return a.attr("playerId")===t})},sortedStatsByPlayerId:function(){if(this.attr("stats")){var t={};return this.attr("stats").each(function(a){var e=a.attr("playerId"),n=t[e];n||(n=t[e]=new can.List([]).attr("comparator","time")),n.push(a)}),t}}});u.List=can.List.extend({Map:u},{});var l=r({Map:u,List:u.List,url:"/services/games",name:"game"});s("game-model",l),e.exports=u});