define("can-define-stream@0.1.2#can-define-stream",function(t,e,n){var r=t("can-define"),a=t("can-util/js/assign/assign"),s=t("can-util/js/each/each");n.exports=function(t){return function(e){["toStream","toStreamFromProperty","toStreamFromEvent"].forEach(function(n){e.prototype[n]=function(){return t[n].apply(t,[this].concat([].slice.call(arguments)))}}),e.prototype.stream=e.prototype.toStream;var n=e.prototype._define.definitions,o=e.prototype._define.dataInitializers,i=e.prototype._define.computedInitializers;s(n,function(n,s){var u=n.stream;if(u){var l=a({value:function(){return t.toCompute(u,this)}},r.types.compute);r.property(e.prototype,s,l,o,i)}})}}}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define("kefir@3.7.2#dist/kefir",["exports"],e):e(t.Kefir=t.Kefir||{})}(this,function(t){"use strict";function e(t){var e=function(){};return e.prototype=t,new e}function n(t){var e=arguments.length,n=void 0,r=void 0;for(n=1;n<e;n++)for(r in arguments[n])t[r]=arguments[n][r];return t}function r(t,r){var a=arguments.length,s=void 0;for(t.prototype=e(r.prototype),t.prototype.constructor=t,s=2;s<a;s++)n(t.prototype,arguments[s]);return t}function a(t,e){var n=void 0,r=void 0,a=void 0,s=void 0;if(0===t.length)return e;if(0===e.length)return t;for(s=0,n=new Array(t.length+e.length),r=t.length,a=0;a<r;a++,s++)n[s]=t[a];for(r=e.length,a=0;a<r;a++,s++)n[s]=e[a];return n}function s(t,e){var n=t.length,r=void 0;for(r=0;r<n;r++)if(t[r]===e)return r;return-1}function o(t,e){var n=t.length,r=void 0;for(r=0;r<n;r++)if(e(t[r]))return r;return-1}function i(t){var e=t.length,n=new Array(e),r=void 0;for(r=0;r<e;r++)n[r]=t[r];return n}function u(t,e){var n=t.length,r=void 0,a=void 0,s=void 0;if(e>=0&&e<n){if(1===n)return[];for(r=new Array(n-1),a=0,s=0;a<n;a++)a!==e&&(r[s]=t[a],s++);return r}return t}function l(t,e){var n=t.length,r=new Array(n),a=void 0;for(a=0;a<n;a++)r[a]=e(t[a]);return r}function c(t,e){var n=t.length,r=void 0;for(r=0;r<n;r++)e(t[r])}function h(t,e){var n=t.length,r=void 0;for(r=0;r<n;r++)t[r]=e}function p(t,e){return-1!==s(t,e)}function y(t,e,n){var r=Math.min(n,t.length+1),a=t.length-r+1,s=new Array(r),o=void 0;for(o=a;o<r;o++)s[o-a]=t[o];return s[r-1]=e,s}function f(t,e,n){t===ue?e(n):t===n.type&&(t===oe||t===ie?e(n.value):e())}function g(){this._items=[],this._spies=[],this._inLoop=0,this._removedItems=null}function d(){this._dispatcher=new g,this._active=!1,this._alive=!0,this._activating=!1,this._logHandlers=null,this._spyHandlers=null}function _(){d.call(this)}function T(){d.call(this),this._currentEvent=null}function k(){return le}function m(t){function e(t,e){var n=this;_.call(this),this._wait=t,this._intervalId=null,this._$onTick=function(){return n._onTick()},this._init(e)}return r(e,_,{_init:function(){},_free:function(){},_onTick:function(){},_onActivation:function(){this._intervalId=setInterval(this._$onTick,this._wait)},_onDeactivation:function(){null!==this._intervalId&&(clearInterval(this._intervalId),this._intervalId=null)},_clear:function(){_.prototype._clear.call(this),this._$onTick=null,this._free()}},t),e}function v(t,e){return new ce(t,{x:e})}function b(t,e){return new he(t,{x:e})}function E(t,e){return 0===e.length?k():new pe(t,{xs:e})}function S(t,e){return new ye(t,{fn:e})}function V(t){function e(e){return t._emitValue(e),t._active}function n(e){return t._emitError(e),t._active}function r(){return t._emitEnd(),t._active}function a(e){return t._emit(e.type,e.value),t._active}return{value:e,error:n,end:r,event:a,emit:e,emitEvent:a}}function w(t,e){return new fe(t,{fn:e})}function A(t){_.call(this),this._fn=t,this._unsubscribe=null}function $(t){return new A(t)}function I(t){var e=!1;return $(function(n){e||(t(function(t){n.emit(t),n.end()}),e=!0)}).setName("fromCallback")}function C(t){var e=!1;return $(function(n){e||(t(function(t,e){t?n.error(t):n.emit(e),n.end()}),e=!0)}).setName("fromNodeCallback")}function O(t,e){switch(e){case 0:return function(){return t()};case 1:return function(e){return t(e[0])};case 2:return function(e){return t(e[0],e[1])};case 3:return function(e){return t(e[0],e[1],e[2])};case 4:return function(e){return t(e[0],e[1],e[2],e[3])};default:return function(e){return t.apply(null,e)}}}function P(t,e,n){var r=n?n.length:0;if(null==e)switch(r){case 0:return t();case 1:return t(n[0]);case 2:return t(n[0],n[1]);case 3:return t(n[0],n[1],n[2]);case 4:return t(n[0],n[1],n[2],n[3]);default:return t.apply(null,n)}else switch(r){case 0:return t.call(e);default:return t.apply(e,n)}}function x(t,e,n){return $(function(r){var a=n?function(){r.emit(P(n,this,arguments))}:function(t){r.emit(t)};return t(a),function(){return e(a)}}).setName("fromSubUnsub")}function L(t,e,n){for(var r=void 0,a=void 0,s=0;s<ge.length;s++)if("function"==typeof t[ge[s][0]]&&"function"==typeof t[ge[s][1]]){r=ge[s][0],a=ge[s][1];break}if(void 0===r)throw new Error("target don't support any of addEventListener/removeEventListener, addListener/removeListener, on/off method pair");return x(function(n){return t[r](e,n)},function(n){return t[a](e,n)},n).setName("fromEvents")}function j(t){this._currentEvent={type:"value",value:t,current:!0}}function N(t){return new j(t)}function M(t){this._currentEvent={type:"error",value:t,current:!0}}function B(t){return new M(t)}function D(t,e){return function(n,r){var a=this;t.call(this),this._source=n,this._name=n._name+"."+e,this._init(r),this._$handleAny=function(t){return a._handleAny(t)}}}function H(t){return{_init:function(){},_free:function(){},_handleValue:function(t){this._emitValue(t)},_handleError:function(t){this._emitError(t)},_handleEnd:function(){this._emitEnd()},_handleAny:function(t){switch(t.type){case oe:return this._handleValue(t.value);case ie:return this._handleError(t.value);case se:return this._handleEnd()}},_onActivation:function(){this._source.onAny(this._$handleAny)},_onDeactivation:function(){this._source.offAny(this._$handleAny)},_clear:function(){t.prototype._clear.call(this),this._source=null,this._$handleAny=null,this._free()}}}function F(t,e){var n=D(_,t);return r(n,_,H(_),e),n}function W(t,e){var n=D(T,t);return r(n,T,H(T),e),n}function R(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null!==e&&"function"!=typeof e)throw new Error("You should call toProperty() with a function or no arguments.");return new de(t,{fn:e})}function q(t){return new _e(t)}function U(t){var e=!1;return R($(function(n){if(!e){var r=function(t){n.emit(t),n.end()},a=function(t){n.error(t),n.end()},s=t.then(r,a);s&&"function"==typeof s.done&&s.done(),e=!0}}),null).setName("fromPromise")}function G(){if("function"==typeof Promise)return Promise;throw new Error("There isn't default Promise, use shim or parameter")}function z(t,e){return e={exports:{}},t(e,e.exports),e.exports}function Y(t){var e=t[Ee]?t[Ee]():t;return $(function(t){var n=e.subscribe({error:function(e){t.error(e),t.end()},next:function(e){t.emit(e)},complete:function(){t.end()}});return n.unsubscribe?function(){n.unsubscribe()}:n}).setName("fromESObservable")}function Q(t){this._observable=t.takeErrors(1)}function K(){return new Q(this)}function J(t,e,n){for(var r in t)t.hasOwnProperty(r)&&(e.push(r),n.push(t[r]))}function X(t){for(var e=void 0,n=0;n<t.length;n++)void 0!==t[n]&&(void 0===e||e.index<t[n].index)&&(e=t[n]);return e.error}function Z(t,e,n){var r=this;_.call(this),this._activeCount=t.length,this._sources=a(t,e),this._combinator=n,this._aliveCount=0,this._latestValues=new Array(this._sources.length),this._latestErrors=new Array(this._sources.length),h(this._latestValues,ae),this._emitAfterActivation=!1,this._endAfterActivation=!1,this._latestErrorIndex=0,this._$handlers=[];for(var s=0;s<this._sources.length;s++)!function(t){r._$handlers.push(function(e){return r._handleAny(t,e)})}(s)}function tt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments[2];if(!Array.isArray(e))throw new Error("Combine can only combine active and passive collections of the same type.");return n=n?O(n,t.length+e.length):function(t){return t},0===t.length?k():new Z(t,e,n)}function et(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];if("object"!=typeof e||Array.isArray(e))throw new Error("Combine can only combine active and passive collections of the same type.");var r=[],a=[],s=[];J(t,r,a),J(e,r,s);var o=function(t){for(var e={},a=t.length-1;0<=a;a--)e[r[a]]=t[a];return n?n(e):e};return 0===a.length?k():new Z(a,s,o)}function nt(t,e,n){return"function"==typeof e&&(n=e,e=void 0),Array.isArray(t)?tt(t,e,n):et(t,e,n)}function rt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ie;return new(t._ofSameType(Ae,$e))(t,{fn:e})}function at(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xe;return new(t._ofSameType(Oe,Pe))(t,{fn:e})}function st(t,e){return new(t._ofSameType(je,Ne))(t,{n:e})}function ot(t,e){return new(t._ofSameType(Be,De))(t,{n:e})}function it(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Re;return new(t._ofSameType(Fe,We))(t,{fn:e})}function ut(t){return new(t._ofSameType(Ue,Ge))(t)}function lt(t,e){return new(t._ofSameType(Ye,Qe))(t,{n:e})}function ct(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ze;return new(t._ofSameType(Je,Xe))(t,{fn:e})}function ht(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rn;return new(t._ofSameType(en,nn))(t,{fn:e})}function pt(t,e){return[t,e]}function yt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ae;return new(t._ofSameType(sn,on))(t,{fn:e||pt,seed:n})}function ft(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ae;return new un(t,{fn:e,seed:n})}function gt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hn;return new cn(t,{fn:e})}function dt(t,e){return new(t._ofSameType(fn,gn))(t,{wait:e})}function _t(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.leading,a=void 0===r||r,s=n.trailing,o=void 0===s||s;return new(t._ofSameType(Tn,kn))(t,{wait:e,leading:a,trailing:o})}function Tt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.immediate,a=void 0!==r&&r;return new(t._ofSameType(vn,bn))(t,{wait:e,immediate:a})}function kt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wn;return new(t._ofSameType(Sn,Vn))(t,{fn:e})}function mt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cn;return new(t._ofSameType($n,In))(t,{fn:e})}function vt(t){return new(t._ofSameType(Pn,xn))(t)}function bt(t){return new(t._ofSameType(jn,Nn))(t)}function Et(t){return new(t._ofSameType(Bn,Dn))(t)}function St(t,e){return new(t._ofSameType(Fn,Wn))(t,{fn:e})}function Vt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new(t._ofSameType(qn,Un))(t,{min:n,max:e})}function wt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.flushOnEnd,a=void 0===r||r;return new(t._ofSameType(zn,Yn))(t,{fn:e||Qn,flushOnEnd:a})}function At(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.flushOnEnd,a=void 0===r||r;return new(t._ofSameType(Jn,Xn))(t,{count:e,flushOnEnd:a})}function $t(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=r.flushOnEnd,s=void 0===a||a;return new(t._ofSameType(tr,er))(t,{wait:e,count:n,flushOnEnd:s})}function It(t){return{"@@transducer/step":function(e,n){return t._emitValue(n),null},"@@transducer/result":function(){return t._emitEnd(),null}}}function Ct(t,e){return new(t._ofSameType(rr,ar))(t,{transducer:e})}function Ot(t,e){return new(t._ofSameType(or,ir))(t,{fn:e})}function Pt(t,e){var n=this;_.call(this),this._buffers=l(t,function(t){return ur(t)?i(t):[]}),this._sources=l(t,function(t){return ur(t)?k():t}),this._combinator=e?O(e,this._sources.length):function(t){return t},this._aliveCount=0,this._$handlers=[];for(var r=0;r<this._sources.length;r++)!function(t){n._$handlers.push(function(e){return n._handleAny(t,e)})}(r)}function xt(t,e){return 0===t.length?k():new Pt(t,e)}function Lt(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.queueLim,r=void 0===n?0:n,a=e.concurLim,s=void 0===a?-1:a,o=e.drop,i=void 0===o?"new":o;_.call(this),this._queueLim=r<0?-1:r,this._concurLim=s<0?-1:s,this._drop=i,this._queue=[],this._curSources=[],this._$handleSubAny=function(e){return t._handleSubAny(e)},this._$endHandlers=[],this._currentlyAdding=null,0===this._concurLim&&this._emitEnd()}function jt(t){Lt.call(this),this._addAll(t),this._initialised=!0}function Nt(t){return 0===t.length?k():new jt(t)}function Mt(t){var e=this;_.call(this),this._generator=t,this._source=null,this._inLoop=!1,this._iteration=0,this._$handleAny=function(t){return e._handleAny(t)}}function Bt(t){return cr(function(e){return t.length>e&&t[e]}).setName("concat")}function Dt(){Lt.call(this)}function Ht(t,e,n){var r=this;Lt.call(this,n),this._source=t,this._fn=e,this._mainEnded=!1,this._lastCurrent=null,this._$handleMain=function(t){return r._handleMain(t)}}function Ft(t,e){Ht.call(this,t,e)}function Wt(t,e){return function(n,r,a){var s=this;t.call(this),this._primary=n,this._secondary=r,this._name=n._name+"."+e,this._lastSecondary=ae,this._$handleSecondaryAny=function(t){return s._handleSecondaryAny(t)},this._$handlePrimaryAny=function(t){return s._handlePrimaryAny(t)},this._init(a)}}function Rt(t){return{_init:function(){},_free:function(){},_handlePrimaryValue:function(t){this._emitValue(t)},_handlePrimaryError:function(t){this._emitError(t)},_handlePrimaryEnd:function(){this._emitEnd()},_handleSecondaryValue:function(t){this._lastSecondary=t},_handleSecondaryError:function(t){this._emitError(t)},_handleSecondaryEnd:function(){},_handlePrimaryAny:function(t){switch(t.type){case oe:return this._handlePrimaryValue(t.value);case ie:return this._handlePrimaryError(t.value);case se:return this._handlePrimaryEnd(t.value)}},_handleSecondaryAny:function(t){switch(t.type){case oe:return this._handleSecondaryValue(t.value);case ie:return this._handleSecondaryError(t.value);case se:this._handleSecondaryEnd(t.value),this._removeSecondary()}},_removeSecondary:function(){null!==this._secondary&&(this._secondary.offAny(this._$handleSecondaryAny),this._$handleSecondaryAny=null,this._secondary=null)},_onActivation:function(){null!==this._secondary&&this._secondary.onAny(this._$handleSecondaryAny),this._active&&this._primary.onAny(this._$handlePrimaryAny)},_onDeactivation:function(){null!==this._secondary&&this._secondary.offAny(this._$handleSecondaryAny),this._primary.offAny(this._$handlePrimaryAny)},_clear:function(){t.prototype._clear.call(this),this._primary=null,this._secondary=null,this._lastSecondary=null,this._$handleSecondaryAny=null,this._$handlePrimaryAny=null,this._free()}}}function qt(t,e){var n=Wt(_,t);return r(n,_,Rt(_),e),n}function Ut(t,e){var n=Wt(T,t);return r(n,T,Rt(T),e),n}function Gt(t,e){return new(t._ofSameType(pr,yr))(t,e)}function zt(t,e,n){return nt([e],[t],n?function(t,e){return n(e,t)}:fr).setName(t,"sampledBy")}function Yt(t,e){return new(t._ofSameType(dr,_r))(t,e)}function Qt(t,e){return new(t._ofSameType(kr,mr))(t,e)}function Kt(t,e,n){return new(t._ofSameType(br,Er))(t,e,n)}function Jt(t,e,n){return new(t._ofSameType(Vr,wr))(t,e,n)}function Xt(t,e){var n=Nt([rt(t,$r),rt(e,Ar)]);return n=ht(n),n=R(n,Ar),n.setName(t,"awaiting")}function Zt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pr;return new(t._ofSameType(Cr,Or))(t,{fn:e})}function te(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nr;return new(t._ofSameType(Lr,jr))(t,{fn:e})}function ee(t){return new(t._ofSameType(Br,Dr))(t)}function ne(){Fr=!1}function re(t){Fr&&console&&"function"==typeof console.warn&&console.warn(t,"\nHere is an Error object for you containing the call stack:",new Error)}var ae=["<nothing>"],se="end",oe="value",ie="error",ue="any";n(g.prototype,{add:function(t,e){return this._items=a(this._items,[{type:t,fn:e}]),this._items.length},remove:function(t,e){var n=o(this._items,function(n){return n.type===t&&n.fn===e});return 0!==this._inLoop&&-1!==n&&(null===this._removedItems&&(this._removedItems=[]),this._removedItems.push(this._items[n])),this._items=u(this._items,n),this._items.length},addSpy:function(t){return this._spies=a(this._spies,[t]),this._spies.length},removeSpy:function(t){return this._spies=u(this._spies,this._spies.indexOf(t)),this._spies.length},dispatch:function(t){this._inLoop++;for(var e=0,n=this._spies;null!==this._spies&&e<n.length;e++)n[e](t);for(var r=0,a=this._items;r<a.length&&null!==this._items;r++)null!==this._removedItems&&p(this._removedItems,a[r])||f(a[r].type,a[r].fn,t);0==--this._inLoop&&(this._removedItems=null)},cleanup:function(){this._items=null,this._spies=null}}),n(d.prototype,{_name:"observable",_onActivation:function(){},_onDeactivation:function(){},_setActive:function(t){this._active!==t&&(this._active=t,t?(this._activating=!0,this._onActivation(),this._activating=!1):this._onDeactivation())},_clear:function(){this._setActive(!1),this._dispatcher.cleanup(),this._dispatcher=null,this._logHandlers=null},_emit:function(t,e){switch(t){case oe:return this._emitValue(e);case ie:return this._emitError(e);case se:return this._emitEnd()}},_emitValue:function(t){this._alive&&this._dispatcher.dispatch({type:oe,value:t})},_emitError:function(t){this._alive&&this._dispatcher.dispatch({type:ie,value:t})},_emitEnd:function(){this._alive&&(this._alive=!1,this._dispatcher.dispatch({type:se}),this._clear())},_on:function(t,e){return this._alive?(this._dispatcher.add(t,e),this._setActive(!0)):f(t,e,{type:se}),this},_off:function(t,e){return this._alive&&0===this._dispatcher.remove(t,e)&&this._setActive(!1),this},onValue:function(t){return this._on(oe,t)},onError:function(t){return this._on(ie,t)},onEnd:function(t){return this._on(se,t)},onAny:function(t){return this._on(ue,t)},offValue:function(t){return this._off(oe,t)},offError:function(t){return this._off(ie,t)},offEnd:function(t){return this._off(se,t)},offAny:function(t){return this._off(ue,t)},observe:function(t,e,n){var r=this,a=!1,s=t&&"function"!=typeof t?t:{value:t,error:e,end:n},o=function(t){t.type===se&&(a=!0),t.type===oe&&s.value?s.value(t.value):t.type===ie&&s.error?s.error(t.value):t.type===se&&s.end&&s.end(t.value)};return this.onAny(o),{unsubscribe:function(){a||(r.offAny(o),a=!0)},get closed(){return a}}},_ofSameType:function(t,e){return t.prototype.getType()===this.getType()?t:e},setName:function(t,e){return this._name=e?t._name+"."+e:t,this},log:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.toString(),e=void 0,n=function(n){var r="<"+n.type+(e?":current":"")+">";n.type===se?console.log(t,r):console.log(t,r,n.value)};return this._alive&&(this._logHandlers||(this._logHandlers=[]),this._logHandlers.push({name:t,handler:n})),e=!0,this.onAny(n),e=!1,this},offLog:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.toString();if(this._logHandlers){var e=o(this._logHandlers,function(e){return e.name===t});-1!==e&&(this.offAny(this._logHandlers[e].handler),this._logHandlers.splice(e,1))}return this},spy:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.toString(),e=function(e){var n="<"+e.type+">";e.type===se?console.log(t,n):console.log(t,n,e.value)};return this._alive&&(this._spyHandlers||(this._spyHandlers=[]),this._spyHandlers.push({name:t,handler:e}),this._dispatcher.addSpy(e)),this},offSpy:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.toString();if(this._spyHandlers){var e=o(this._spyHandlers,function(e){return e.name===t});-1!==e&&(this._dispatcher.removeSpy(this._spyHandlers[e].handler),this._spyHandlers.splice(e,1))}return this}}),d.prototype.toString=function(){return"["+this._name+"]"},r(_,d,{_name:"stream",getType:function(){return"stream"}}),r(T,d,{_name:"property",_emitValue:function(t){this._alive&&(this._currentEvent={type:oe,value:t},this._activating||this._dispatcher.dispatch({type:oe,value:t}))},_emitError:function(t){this._alive&&(this._currentEvent={type:ie,value:t},this._activating||this._dispatcher.dispatch({type:ie,value:t}))},_emitEnd:function(){this._alive&&(this._alive=!1,this._activating||this._dispatcher.dispatch({type:se}),this._clear())},_on:function(t,e){return this._alive&&(this._dispatcher.add(t,e),this._setActive(!0)),null!==this._currentEvent&&f(t,e,this._currentEvent),this._alive||f(t,e,{type:se}),this},getType:function(){return"property"}});var le=new _;le._emitEnd(),le._name="never";var ce=m({_name:"later",_init:function(t){var e=t.x;this._x=e},_free:function(){this._x=null},_onTick:function(){this._emitValue(this._x),this._emitEnd()}}),he=m({_name:"interval",_init:function(t){var e=t.x;this._x=e},_free:function(){this._x=null},_onTick:function(){this._emitValue(this._x)}}),pe=m({_name:"sequentially",_init:function(t){var e=t.xs;this._xs=i(e)},_free:function(){this._xs=null},_onTick:function(){1===this._xs.length?(this._emitValue(this._xs[0]),this._emitEnd()):this._emitValue(this._xs.shift())}}),ye=m({_name:"fromPoll",_init:function(t){var e=t.fn;this._fn=e},_free:function(){this._fn=null},_onTick:function(){var t=this._fn;this._emitValue(t())}}),fe=m({_name:"withInterval",_init:function(t){var e=t.fn;this._fn=e,this._emitter=V(this)},_free:function(){this._fn=null,this._emitter=null},_onTick:function(){(0,this._fn)(this._emitter)}});r(A,_,{_name:"stream",_onActivation:function(){var t=this._fn,e=t(V(this));this._unsubscribe="function"==typeof e?e:null,this._active||this._callUnsubscribe()},_callUnsubscribe:function(){null!==this._unsubscribe&&(this._unsubscribe(),this._unsubscribe=null)},_onDeactivation:function(){this._callUnsubscribe()},_clear:function(){_.prototype._clear.call(this),this._fn=null}});var ge=[["addEventListener","removeEventListener"],["addListener","removeListener"],["on","off"]];r(j,T,{_name:"constant",_active:!1,_activating:!1,_alive:!1,_dispatcher:null,_logHandlers:null}),r(M,T,{_name:"constantError",_active:!1,_activating:!1,_alive:!1,_dispatcher:null,_logHandlers:null});var de=W("toProperty",{_init:function(t){var e=t.fn;this._getInitialCurrent=e},_onActivation:function(){if(null!==this._getInitialCurrent){var t=this._getInitialCurrent;this._emitValue(t())}this._source.onAny(this._$handleAny)}}),_e=F("changes",{_handleValue:function(t){this._activating||this._emitValue(t)},_handleError:function(t){this._activating||this._emitError(t)}}),Te=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G(),n=null;return new e(function(e,r){t.onAny(function(t){t.type===se&&null!==n?((n.type===oe?e:r)(n.value),n=null):n=t})})},ke="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},me=z(function(t,e){function n(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n}),ve=z(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n,r=function(t){return t&&t.__esModule?t:{default:t}}(me);n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==ke?ke:t;var a=(0,r.default)(n);e.default=a}),be=ve,Ee=be.default?be.default:be;n(Q.prototype,{subscribe:function(t,e,n){var r=this,a="function"==typeof t?{next:t,error:e,complete:n}:t,s=function(t){t.type===se&&(o=!0),t.type===oe&&a.next?a.next(t.value):t.type===ie&&a.error?a.error(t.value):t.type===se&&a.complete&&a.complete(t.value)};this._observable.onAny(s);var o=!1;return{unsubscribe:function(){o=!0,r._observable.offAny(s)},get closed(){return o}}}}),Q.prototype[Ee]=function(){return this},r(Z,_,{_name:"combine",_onActivation:function(){this._aliveCount=this._activeCount;for(var t=this._activeCount;t<this._sources.length;t++)this._sources[t].onAny(this._$handlers[t]);for(var e=0;e<this._activeCount;e++)this._sources[e].onAny(this._$handlers[e]);this._emitAfterActivation&&(this._emitAfterActivation=!1,this._emitIfFull()),this._endAfterActivation&&this._emitEnd()},_onDeactivation:function(){var t=this._sources.length,e=void 0;for(e=0;e<t;e++)this._sources[e].offAny(this._$handlers[e])},_emitIfFull:function(){for(var t=!0,e=!1,n=this._latestValues.length,r=new Array(n),a=new Array(n),s=0;s<n;s++)r[s]=this._latestValues[s],a[s]=this._latestErrors[s],r[s]===ae&&(t=!1),void 0!==a[s]&&(e=!0);if(t){var o=this._combinator;this._emitValue(o(r))}e&&this._emitError(X(a))},_handleAny:function(t,e){e.type===oe||e.type===ie?(e.type===oe&&(this._latestValues[t]=e.value,this._latestErrors[t]=void 0),e.type===ie&&(this._latestValues[t]=ae,this._latestErrors[t]={index:this._latestErrorIndex++,error:e.value}),t<this._activeCount&&(this._activating?this._emitAfterActivation=!0:this._emitIfFull())):t<this._activeCount&&0==--this._aliveCount&&(this._activating?this._endAfterActivation=!0:this._emitEnd())},_clear:function(){_.prototype._clear.call(this),this._sources=null,this._latestValues=null,this._latestErrors=null,this._combinator=null,this._$handlers=null}});var Se={empty:function(){return k()},concat:function(t,e){return t.merge(e)},of:function(t){return N(t)},map:function(t,e){return e.map(t)},bimap:function(t,e,n){return n.mapErrors(t).map(e)},ap:function(t,e){return nt([t,e],function(t,e){return t(e)})},chain:function(t,e){return e.flatMap(t)}},Ve=Object.freeze({Observable:Se}),we={_init:function(t){var e=t.fn;this._fn=e},_free:function(){this._fn=null},_handleValue:function(t){var e=this._fn;this._emitValue(e(t))}},Ae=F("map",we),$e=W("map",we),Ie=function(t){return t},Ce={_init:function(t){var e=t.fn;this._fn=e},_free:function(){this._fn=null},_handleValue:function(t){(0,this._fn)(t)&&this._emitValue(t)}},Oe=F("filter",Ce),Pe=W("filter",Ce),xe=function(t){return t},Le={_init:function(t){var e=t.n;this._n=e,e<=0&&this._emitEnd()},_handleValue:function(t){this._n--,this._emitValue(t),0===this._n&&this._emitEnd()}},je=F("take",Le),Ne=W("take",Le),Me={_init:function(t){var e=t.n;this._n=e,e<=0&&this._emitEnd()},_handleError:function(t){this._n--,this._emitError(t),0===this._n&&this._emitEnd()}},Be=F("takeErrors",Me),De=W("takeErrors",Me),He={_init:function(t){var e=t.fn;this._fn=e},_free:function(){this._fn=null},_handleValue:function(t){(0,this._fn)(t)?this._emitValue(t):this._emitEnd()}},Fe=F("takeWhile",He),We=W("takeWhile",He),Re=function(t){return t},qe={_init:function(){this._lastValue=ae},_free:function(){this._lastValue=null},_handleValue:function(t){this._lastValue=t},_handleEnd:function(){this._lastValue!==ae&&this._emitValue(this._lastValue),this._emitEnd()}},Ue=F("last",qe),Ge=W("last",qe),ze={_init:function(t){var e=t.n;this._n=Math.max(0,e)},_handleValue:function(t){0===this._n?this._emitValue(t):this._n--}},Ye=F("skip",ze),Qe=W("skip",ze),Ke={_init:function(t){var e=t.fn;this._fn=e},_free:function(){this._fn=null},_handleValue:function(t){var e=this._fn;null===this._fn||e(t)||(this._fn=null),null===this._fn&&this._emitValue(t)}},Je=F("skipWhile",Ke),Xe=W("skipWhile",Ke),Ze=function(t){return t},tn={_init:function(t){var e=t.fn;this._fn=e,this._prev=ae},_free:function(){this._fn=null,this._prev=null},_handleValue:function(t){var e=this._fn;this._prev!==ae&&e(this._prev,t)||(this._prev=t,this._emitValue(t))}},en=F("skipDuplicates",tn),nn=W("skipDuplicates",tn),rn=function(t,e){return t===e},an={_init:function(t){var e=t.fn,n=t.seed;this._fn=e,this._prev=n},_free:function(){this._prev=null,this._fn=null},_handleValue:function(t){if(this._prev!==ae){var e=this._fn;this._emitValue(e(this._prev,t))}this._prev=t}},sn=F("diff",an),on=W("diff",an),un=W("scan",{_init:function(t){var e=t.fn,n=t.seed;this._fn=e,this._seed=n,n!==ae&&this._emitValue(n)},_free:function(){this._fn=null,this._seed=null},_handleValue:function(t){var e=this._fn;null===this._currentEvent||this._currentEvent.type===ie?this._emitValue(this._seed===ae?t:e(this._seed,t)):this._emitValue(e(this._currentEvent.value,t))}}),ln={_init:function(t){var e=t.fn;this._fn=e},_free:function(){this._fn=null},_handleValue:function(t){for(var e=this._fn,n=e(t),r=0;r<n.length;r++)this._emitValue(n[r])}},cn=F("flatten",ln),hn=function(t){return t},pn={},yn={_init:function(t){var e=this,n=t.wait;this._wait=Math.max(0,n),this._buff=[],this._$shiftBuff=function(){var t=e._buff.shift();t===pn?e._emitEnd():e._emitValue(t)}},_free:function(){this._buff=null,this._$shiftBuff=null},_handleValue:function(t){this._activating?this._emitValue(t):(this._buff.push(t),setTimeout(this._$shiftBuff,this._wait))},_handleEnd:function(){this._activating?this._emitEnd():(this._buff.push(pn),setTimeout(this._$shiftBuff,this._wait))}},fn=F("delay",yn),gn=W("delay",yn),dn=Date.now?function(){return Date.now()}:function(){return(new Date).getTime()},_n={_init:function(t){var e=this,n=t.wait,r=t.leading,a=t.trailing;this._wait=Math.max(0,n),this._leading=r,this._trailing=a,this._trailingValue=null,this._timeoutId=null,this._endLater=!1,this._lastCallTime=0,this._$trailingCall=function(){return e._trailingCall()}},_free:function(){this._trailingValue=null,this._$trailingCall=null},_handleValue:function(t){if(this._activating)this._emitValue(t);else{var e=dn();0!==this._lastCallTime||this._leading||(this._lastCallTime=e);var n=this._wait-(e-this._lastCallTime);n<=0?(this._cancelTrailing(),this._lastCallTime=e,this._emitValue(t)):this._trailing&&(this._cancelTrailing(),this._trailingValue=t,this._timeoutId=setTimeout(this._$trailingCall,n))}},_handleEnd:function(){this._activating?this._emitEnd():this._timeoutId?this._endLater=!0:this._emitEnd()},_cancelTrailing:function(){null!==this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=null)},_trailingCall:function(){this._emitValue(this._trailingValue),this._timeoutId=null,this._trailingValue=null,this._lastCallTime=this._leading?dn():0,this._endLater&&this._emitEnd()}},Tn=F("throttle",_n),kn=W("throttle",_n),mn={_init:function(t){var e=this,n=t.wait,r=t.immediate;this._wait=Math.max(0,n),this._immediate=r,this._lastAttempt=0,this._timeoutId=null,this._laterValue=null,this._endLater=!1,this._$later=function(){return e._later()}},_free:function(){this._laterValue=null,this._$later=null},_handleValue:function(t){this._activating?this._emitValue(t):(this._lastAttempt=dn(),this._immediate&&!this._timeoutId&&this._emitValue(t),this._timeoutId||(this._timeoutId=setTimeout(this._$later,this._wait)),this._immediate||(this._laterValue=t))},_handleEnd:function(){this._activating?this._emitEnd():this._timeoutId&&!this._immediate?this._endLater=!0:this._emitEnd()},_later:function(){var t=dn()-this._lastAttempt;t<this._wait&&t>=0?this._timeoutId=setTimeout(this._$later,this._wait-t):(this._timeoutId=null,this._immediate||(this._emitValue(this._laterValue),this._laterValue=null),this._endLater&&this._emitEnd())}},vn=F("debounce",mn),bn=W("debounce",mn),En={_init:function(t){var e=t.fn;this._fn=e},_free:function(){this._fn=null},_handleError:function(t){var e=this._fn;this._emitError(e(t))}},Sn=F("mapErrors",En),Vn=W("mapErrors",En),wn=function(t){return t},An={_init:function(t){var e=t.fn;this._fn=e},_free:function(){this._fn=null},_handleError:function(t){(0,this._fn)(t)&&this._emitError(t)}},$n=F("filterErrors",An),In=W("filterErrors",An),Cn=function(t){return t},On={_handleValue:function(){}},Pn=F("ignoreValues",On),xn=W("ignoreValues",On),Ln={_handleError:function(){}},jn=F("ignoreErrors",Ln),Nn=W("ignoreErrors",Ln),Mn={_handleEnd:function(){}},Bn=F("ignoreEnd",Mn),Dn=W("ignoreEnd",Mn),Hn={_init:function(t){var e=t.fn;this._fn=e},_free:function(){this._fn=null},_handleEnd:function(){var t=this._fn;this._emitValue(t()),this._emitEnd()}},Fn=F("beforeEnd",Hn),Wn=W("beforeEnd",Hn),Rn={_init:function(t){var e=t.min,n=t.max;this._max=n,this._min=e,this._buff=[]},_free:function(){this._buff=null},_handleValue:function(t){this._buff=y(this._buff,t,this._max),this._buff.length>=this._min&&this._emitValue(this._buff)}
},qn=F("slidingWindow",Rn),Un=W("slidingWindow",Rn),Gn={_init:function(t){var e=t.fn,n=t.flushOnEnd;this._fn=e,this._flushOnEnd=n,this._buff=[]},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&0!==this._buff.length&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(t){this._buff.push(t),(0,this._fn)(t)||this._flush()},_handleEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()}},zn=F("bufferWhile",Gn),Yn=W("bufferWhile",Gn),Qn=function(t){return t},Kn={_init:function(t){var e=t.count,n=t.flushOnEnd;this._count=e,this._flushOnEnd=n,this._buff=[]},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&0!==this._buff.length&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(t){this._buff.push(t),this._buff.length>=this._count&&this._flush()},_handleEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()}},Jn=F("bufferWithCount",Kn),Xn=W("bufferWithCount",Kn),Zn={_init:function(t){var e=this,n=t.wait,r=t.count,a=t.flushOnEnd;this._wait=n,this._count=r,this._flushOnEnd=a,this._intervalId=null,this._$onTick=function(){return e._flush()},this._buff=[]},_free:function(){this._$onTick=null,this._buff=null},_flush:function(){null!==this._buff&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(t){this._buff.push(t),this._buff.length>=this._count&&(clearInterval(this._intervalId),this._flush(),this._intervalId=setInterval(this._$onTick,this._wait))},_handleEnd:function(){this._flushOnEnd&&0!==this._buff.length&&this._flush(),this._emitEnd()},_onActivation:function(){this._intervalId=setInterval(this._$onTick,this._wait),this._source.onAny(this._$handleAny)},_onDeactivation:function(){null!==this._intervalId&&(clearInterval(this._intervalId),this._intervalId=null),this._source.offAny(this._$handleAny)}},tr=F("bufferWithTimeOrCount",Zn),er=W("bufferWithTimeOrCount",Zn),nr={_init:function(t){var e=t.transducer;this._xform=e(It(this))},_free:function(){this._xform=null},_handleValue:function(t){null!==this._xform["@@transducer/step"](null,t)&&this._xform["@@transducer/result"](null)},_handleEnd:function(){this._xform["@@transducer/result"](null)}},rr=F("transduce",nr),ar=W("transduce",nr),sr={_init:function(t){var e=t.fn;this._handler=e,this._emitter=V(this)},_free:function(){this._handler=null,this._emitter=null},_handleAny:function(t){this._handler(this._emitter,t)}},or=F("withHandler",sr),ir=W("withHandler",sr),ur=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};r(Pt,_,{_name:"zip",_onActivation:function(){for(;this._isFull();)this._emit();var t=this._sources.length;this._aliveCount=t;for(var e=0;e<t&&this._active;e++)this._sources[e].onAny(this._$handlers[e])},_onDeactivation:function(){for(var t=0;t<this._sources.length;t++)this._sources[t].offAny(this._$handlers[t])},_emit:function(){for(var t=new Array(this._buffers.length),e=0;e<this._buffers.length;e++)t[e]=this._buffers[e].shift();var n=this._combinator;this._emitValue(n(t))},_isFull:function(){for(var t=0;t<this._buffers.length;t++)if(0===this._buffers[t].length)return!1;return!0},_handleAny:function(t,e){e.type===oe&&(this._buffers[t].push(e.value),this._isFull()&&this._emit()),e.type===ie&&this._emitError(e.value),e.type===se&&0==--this._aliveCount&&this._emitEnd()},_clear:function(){_.prototype._clear.call(this),this._sources=null,this._buffers=null,this._combinator=null,this._$handlers=null}});var lr=function(t){return t};r(Lt,_,{_name:"abstractPool",_add:function(t,e){e=e||lr,-1===this._concurLim||this._curSources.length<this._concurLim?this._addToCur(e(t)):-1===this._queueLim||this._queue.length<this._queueLim?this._addToQueue(e(t)):"old"===this._drop&&(this._removeOldest(),this._add(t,e))},_addAll:function(t){var e=this;c(t,function(t){return e._add(t)})},_remove:function(t){-1===this._removeCur(t)&&this._removeQueue(t)},_addToQueue:function(t){this._queue=a(this._queue,[t])},_addToCur:function(t){if(this._active){if(!t._alive)return void(t._currentEvent&&this._emit(t._currentEvent.type,t._currentEvent.value));this._currentlyAdding=t,t.onAny(this._$handleSubAny),this._currentlyAdding=null,t._alive&&(this._curSources=a(this._curSources,[t]),this._active&&this._subToEnd(t))}else this._curSources=a(this._curSources,[t])},_subToEnd:function(t){var e=this,n=function(){return e._removeCur(t)};this._$endHandlers.push({obs:t,handler:n}),t.onEnd(n)},_subscribe:function(t){t.onAny(this._$handleSubAny),this._active&&this._subToEnd(t)},_unsubscribe:function(t){t.offAny(this._$handleSubAny);var e=o(this._$endHandlers,function(e){return e.obs===t});-1!==e&&(t.offEnd(this._$endHandlers[e].handler),this._$endHandlers.splice(e,1))},_handleSubAny:function(t){t.type===oe?this._emitValue(t.value):t.type===ie&&this._emitError(t.value)},_removeQueue:function(t){var e=s(this._queue,t);return this._queue=u(this._queue,e),e},_removeCur:function(t){this._active&&this._unsubscribe(t);var e=s(this._curSources,t);return this._curSources=u(this._curSources,e),-1!==e&&(0!==this._queue.length?this._pullQueue():0===this._curSources.length&&this._onEmpty()),e},_removeOldest:function(){this._removeCur(this._curSources[0])},_pullQueue:function(){0!==this._queue.length&&(this._queue=i(this._queue),this._addToCur(this._queue.shift()))},_onActivation:function(){for(var t=0,e=this._curSources;t<e.length&&this._active;t++)this._subscribe(e[t])},_onDeactivation:function(){for(var t=0,e=this._curSources;t<e.length;t++)this._unsubscribe(e[t]);null!==this._currentlyAdding&&this._unsubscribe(this._currentlyAdding)},_isEmpty:function(){return 0===this._curSources.length},_onEmpty:function(){},_clear:function(){_.prototype._clear.call(this),this._queue=null,this._curSources=null,this._$handleSubAny=null,this._$endHandlers=null}}),r(jt,Lt,{_name:"merge",_onEmpty:function(){this._initialised&&this._emitEnd()}}),r(Mt,_,{_name:"repeat",_handleAny:function(t){t.type===se?(this._source=null,this._getSource()):this._emit(t.type,t.value)},_getSource:function(){if(!this._inLoop){this._inLoop=!0;for(var t=this._generator;null===this._source&&this._alive&&this._active;)this._source=t(this._iteration++),this._source?this._source.onAny(this._$handleAny):this._emitEnd();this._inLoop=!1}},_onActivation:function(){this._source?this._source.onAny(this._$handleAny):this._getSource()},_onDeactivation:function(){this._source&&this._source.offAny(this._$handleAny)},_clear:function(){_.prototype._clear.call(this),this._generator=null,this._source=null,this._$handleAny=null}});var cr=function(t){return new Mt(t)};r(Dt,Lt,{_name:"pool",plug:function(t){return this._add(t),this},unplug:function(t){return this._remove(t),this}}),r(Ht,Lt,{_onActivation:function(){Lt.prototype._onActivation.call(this),this._active&&this._source.onAny(this._$handleMain)},_onDeactivation:function(){Lt.prototype._onDeactivation.call(this),this._source.offAny(this._$handleMain),this._hadNoEvSinceDeact=!0},_handleMain:function(t){t.type===oe&&(this._activating&&this._hadNoEvSinceDeact&&this._lastCurrent===t.value||this._add(t.value,this._fn),this._lastCurrent=t.value,this._hadNoEvSinceDeact=!1),t.type===ie&&this._emitError(t.value),t.type===se&&(this._isEmpty()?this._emitEnd():this._mainEnded=!0)},_onEmpty:function(){this._mainEnded&&this._emitEnd()},_clear:function(){Lt.prototype._clear.call(this),this._source=null,this._lastCurrent=null,this._$handleMain=null}}),r(Ft,Ht,{_handleMain:function(t){t.type===ie&&(this._activating&&this._hadNoEvSinceDeact&&this._lastCurrent===t.value||this._add(t.value,this._fn),this._lastCurrent=t.value,this._hadNoEvSinceDeact=!1),t.type===oe&&this._emitValue(t.value),t.type===se&&(this._isEmpty()?this._emitEnd():this._mainEnded=!0)}});var hr={_handlePrimaryValue:function(t){this._lastSecondary!==ae&&this._lastSecondary&&this._emitValue(t)},_handleSecondaryEnd:function(){this._lastSecondary!==ae&&this._lastSecondary||this._emitEnd()}},pr=qt("filterBy",hr),yr=Ut("filterBy",hr),fr=function(t,e){return e},gr={_handlePrimaryValue:function(t){this._lastSecondary!==ae&&this._emitValue(t)},_handleSecondaryEnd:function(){this._lastSecondary===ae&&this._emitEnd()}},dr=qt("skipUntilBy",gr),_r=Ut("skipUntilBy",gr),Tr={_handleSecondaryValue:function(){this._emitEnd()}},kr=qt("takeUntilBy",Tr),mr=Ut("takeUntilBy",Tr),vr={_init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.flushOnEnd,n=void 0===e||e;this._buff=[],this._flushOnEnd=n},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&(this._emitValue(this._buff),this._buff=[])},_handlePrimaryEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()},_onActivation:function(){this._primary.onAny(this._$handlePrimaryAny),this._alive&&null!==this._secondary&&this._secondary.onAny(this._$handleSecondaryAny)},_handlePrimaryValue:function(t){this._buff.push(t)},_handleSecondaryValue:function(){this._flush()},_handleSecondaryEnd:function(){this._flushOnEnd||this._emitEnd()}},br=qt("bufferBy",vr),Er=Ut("bufferBy",vr),Sr={_init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.flushOnEnd,n=void 0===e||e,r=t.flushOnChange,a=void 0!==r&&r;this._buff=[],this._flushOnEnd=n,this._flushOnChange=a},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&(this._emitValue(this._buff),this._buff=[])},_handlePrimaryEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()},_handlePrimaryValue:function(t){this._buff.push(t),this._lastSecondary===ae||this._lastSecondary||this._flush()},_handleSecondaryEnd:function(){this._flushOnEnd||this._lastSecondary!==ae&&!this._lastSecondary||this._emitEnd()},_handleSecondaryValue:function(t){this._flushOnChange&&!t&&this._flush(),this._lastSecondary=t}},Vr=qt("bufferWhileBy",Sr),wr=Ut("bufferWhileBy",Sr),Ar=function(){return!1},$r=function(){return!0},Ir={_init:function(t){var e=t.fn;this._fn=e},_free:function(){this._fn=null},_handleValue:function(t){var e=this._fn,n=e(t);n.convert?this._emitError(n.error):this._emitValue(t)}},Cr=F("valuesToErrors",Ir),Or=W("valuesToErrors",Ir),Pr=function(t){return{convert:!0,error:t}},xr={_init:function(t){var e=t.fn;this._fn=e},_free:function(){this._fn=null},_handleError:function(t){var e=this._fn,n=e(t);n.convert?this._emitValue(n.value):this._emitError(t)}},Lr=F("errorsToValues",xr),jr=W("errorsToValues",xr),Nr=function(t){return{convert:!0,value:t}},Mr={_handleError:function(t){this._emitError(t),this._emitEnd()}},Br=F("endOnError",Mr),Dr=W("endOnError",Mr);d.prototype.toProperty=function(t){return R(this,t)},d.prototype.changes=function(){return q(this)},d.prototype.toPromise=function(t){return Te(this,t)},d.prototype.toESObservable=K,d.prototype[Ee]=K,d.prototype.map=function(t){return rt(this,t)},d.prototype.filter=function(t){return at(this,t)},d.prototype.take=function(t){return st(this,t)},d.prototype.takeErrors=function(t){return ot(this,t)},d.prototype.takeWhile=function(t){return it(this,t)},d.prototype.last=function(){return ut(this)},d.prototype.skip=function(t){return lt(this,t)},d.prototype.skipWhile=function(t){return ct(this,t)},d.prototype.skipDuplicates=function(t){return ht(this,t)},d.prototype.diff=function(t,e){return yt(this,t,e)},d.prototype.scan=function(t,e){return ft(this,t,e)},d.prototype.flatten=function(t){return gt(this,t)},d.prototype.delay=function(t){return dt(this,t)},d.prototype.throttle=function(t,e){return _t(this,t,e)},d.prototype.debounce=function(t,e){return Tt(this,t,e)},d.prototype.mapErrors=function(t){return kt(this,t)},d.prototype.filterErrors=function(t){return mt(this,t)},d.prototype.ignoreValues=function(){return vt(this)},d.prototype.ignoreErrors=function(){return bt(this)},d.prototype.ignoreEnd=function(){return Et(this)},d.prototype.beforeEnd=function(t){return St(this,t)},d.prototype.slidingWindow=function(t,e){return Vt(this,t,e)},d.prototype.bufferWhile=function(t,e){return wt(this,t,e)},d.prototype.bufferWithCount=function(t,e){return At(this,t,e)},d.prototype.bufferWithTimeOrCount=function(t,e,n){return $t(this,t,e,n)},d.prototype.transduce=function(t){return Ct(this,t)},d.prototype.withHandler=function(t){return Ot(this,t)},d.prototype.combine=function(t,e){return nt([this,t],e)},d.prototype.zip=function(t,e){return xt([this,t],e)},d.prototype.merge=function(t){return Nt([this,t])},d.prototype.concat=function(t){return Bt([this,t])};var Hr=function(){return new Dt};d.prototype.flatMap=function(t){return new Ht(this,t).setName(this,"flatMap")},d.prototype.flatMapLatest=function(t){return new Ht(this,t,{concurLim:1,drop:"old"}).setName(this,"flatMapLatest")},d.prototype.flatMapFirst=function(t){return new Ht(this,t,{concurLim:1}).setName(this,"flatMapFirst")},d.prototype.flatMapConcat=function(t){return new Ht(this,t,{queueLim:-1,concurLim:1}).setName(this,"flatMapConcat")},d.prototype.flatMapConcurLimit=function(t,e){return new Ht(this,t,{queueLim:-1,concurLim:e}).setName(this,"flatMapConcurLimit")},d.prototype.flatMapErrors=function(t){return new Ft(this,t).setName(this,"flatMapErrors")},d.prototype.filterBy=function(t){return Gt(this,t)},d.prototype.sampledBy=function(t,e){return zt(this,t,e)},d.prototype.skipUntilBy=function(t){return Yt(this,t)},d.prototype.takeUntilBy=function(t){return Qt(this,t)},d.prototype.bufferBy=function(t,e){return Kt(this,t,e)},d.prototype.bufferWhileBy=function(t,e){return Jt(this,t,e)};var Fr=!0;d.prototype.awaiting=function(t){return re("You are using deprecated .awaiting() method, see https://github.com/rpominov/kefir/issues/145"),Xt(this,t)},d.prototype.valuesToErrors=function(t){return re("You are using deprecated .valuesToErrors() method, see https://github.com/rpominov/kefir/issues/149"),Zt(this,t)},d.prototype.errorsToValues=function(t){return re("You are using deprecated .errorsToValues() method, see https://github.com/rpominov/kefir/issues/149"),te(this,t)},d.prototype.endOnError=function(){return re("You are using deprecated .endOnError() method, see https://github.com/rpominov/kefir/issues/150"),ee(this)};var Wr={Observable:d,Stream:_,Property:T,never:k,later:v,interval:b,sequentially:E,fromPoll:S,withInterval:w,fromCallback:I,fromNodeCallback:C,fromEvents:L,stream:$,constant:N,constantError:B,fromPromise:U,fromESObservable:Y,combine:nt,zip:xt,merge:Nt,concat:Bt,Pool:Dt,pool:Hr,repeat:cr,staticLand:Ve};Wr.Kefir=Wr,t.dissableDeprecationWarnings=ne,t.Kefir=Wr,t.Observable=d,t.Stream=_,t.Property=T,t.never=k,t.later=v,t.interval=b,t.sequentially=E,t.fromPoll=S,t.withInterval=w,t.fromCallback=I,t.fromNodeCallback=C,t.fromEvents=L,t.stream=$,t.constant=N,t.constantError=B,t.fromPromise=U,t.fromESObservable=Y,t.combine=nt,t.zip=xt,t.merge=Nt,t.concat=Bt,t.Pool=Dt,t.pool=Hr,t.repeat=cr,t.staticLand=Ve,t.default=Wr,Object.defineProperty(t,"__esModule",{value:!0})}),define("can-stream@0.2.3#can-stream",function(t,e,n){var r=t("can-util/namespace"),a=t("can-compute"),s=t("can-util/js/make-array/make-array"),o=t("can-util/js/assign/assign"),i=function(t,e){var n,r;return a(void 0,{on:function(a){n=function(t,e){r=o({args:[].slice.call(arguments,1)},t),a()},t.on(e,n)},off:function(a){t.off(e,n),r=void 0},get:function(){return r}})},u=function(t){var e,n=function(e,n){return t.toStream(a(e,n))},r=function(){var e,n,r,s,o=arguments[0];if(2===arguments.length)return s=i(o,arguments[1]),t.toStream(s);n=arguments[1],e=arguments[2],r=o[n];var u,l,c=a(o,n);return s=a(void 0,{on:function(t){u=function(e,n,a){r=n,t(r)},l=function(t,n,r){r.off(e,u),n.on(e,u)},c.on("change",l),c().on(e,u)},off:function(){c().off(e,u),c.off("change",l)},get:function(){return r},set:function(t){throw new Error("can-stream: you can't set this type of compute")}}),t.toStream(s)},o=function(){if(1===arguments.length)return t.toStream(arguments[0]);if(arguments.length>1){var n=arguments[0],r=arguments[1].trim();if(-1===r.indexOf(" "))return 0===r.indexOf(".")?e.toStreamFromProperty(n,r.slice(1)):e.toStreamFromEvent(n,r);var a=r.split(" ");return e.toStreamFromEvent(n,a[0].slice(1),a[1])}},u=function(e,n){var r=s(arguments);return t.toCompute.apply(this,r)};return e=o,e.toStream=e,e.toStreamFromProperty=n,e.toStreamFromEvent=r,e.toCompute=u,e};u.toComputeFromEvent=i,n.exports=r.stream=u}),define("can-stream-kefir@0.2.3#can-stream-kefir",function(t,e,n){var r=t("kefir"),a=t("can-compute"),s=t("can-stream"),o={};o.toStream=function(t){return r.stream(function(e){var n=function(t,n){e.emit(n)};t.on("change",n);var r=t();return void 0!==r&&e.emit(r),function(){t.off("change",n)}})},o.toCompute=function(t,e){var n,s,o,i,u=r.stream(function(t){n=t,void 0!==i&&n.emit(i)}),l=t.call(e,u);return a(void 0,{get:function(){return s},set:function(t){return n?n.emit(t):i=t,t},on:function(t){o=function(e){s=e,t()},l.onValue(o)},off:function(){l.offValue(o)}})},n.exports=s(o)}),define("can-define-stream-kefir@0.0.9#can-define-stream-kefir",function(t,e,n){var r=t("can-util/namespace"),a=t("can-define-stream"),s=t("can-stream-kefir");n.exports=r.defineStreamKefir=a(s)}),define("bitballs@0.4.0#components/tournament/details/details.stache!steal-stache@3.0.7#steal-stache",["module","can-stache","can-stache/src/mustache_core","can-view-import@3.0.7#can-view-import","can-stache-bindings@3.1.6#can-stache-bindings","can-stache-converters"],function(t,e,n){var r=e([{tokenType:"start",args:["can-import",!0]},{tokenType:"attrStart",args:["from"]},{tokenType:"attrValue",args:["can-stache-converters"]},{tokenType:"attrEnd",args:["from"]},{tokenType:"end",args:["can-import",!0]},{tokenType:"special",args:["^if tournamentPromise.isRejected"]},{tokenType:"chars",args:["\n"]},{tokenType:"start",args:["h2",!1]},{tokenType:"end",args:["h2",!1]},{tokenType:"special",args:["tournament.year"]},{tokenType:"chars",args:[" Tournament"]},{tokenType:"close",args:["h2"]},{tokenType:"chars",args:["\n"]},{tokenType:"start",args:["h3",!1]},{tokenType:"end",args:["h3",!1]},{tokenType:"chars",args:["Games"]},{tokenType:"close",args:["h3"]},{tokenType:"chars",args:["\n"]},{tokenType:"start",args:["table",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["table"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["table",!1]},{tokenType:"chars",args:["\n"]},{tokenType:"start",args:["thead",!1]},{tokenType:"end",args:["thead",!1]},{tokenType:"chars",args:["\n\t"]},{tokenType:"start",args:["tr",!1]},{tokenType:"end",args:["tr",!1]},{tokenType:"chars",args:["\n\t\t"]},{tokenType:"start",args:["th",!1]},{tokenType:"end",args:["th",!1]},{tokenType:"chars",args:["Round"]},{tokenType:"close",args:["th"]},{tokenType:"chars",args:["\n\t\t"]},{tokenType:"start",args:["th",!1]},{tokenType:"end",args:["th",!1]},{tokenType:"chars",args:["Court 1"]},{tokenType:"close",args:["th"]},{tokenType:"chars",args:["\n\t\t"]},{tokenType:"start",args:["th",!1]},{tokenType:"end",args:["th",!1]},{tokenType:"chars",args:["Court 2"]},{tokenType:"close",args:["th"]},{tokenType:"chars",args:["\n\t\t"]},{tokenType:"start",args:["th",!1]},{tokenType:"end",args:["th",!1]},{tokenType:"chars",args:["Court 3"]},{tokenType:"close",args:["th"]},{tokenType:"chars",args:["\n\t\t"]},{tokenType:"start",args:["th",!1]},{tokenType:"end",args:["th",!1]},{tokenType:"chars",args:["Court 4"]},{tokenType:"close",args:["th"]},{tokenType:"chars",args:["\n\t"]},{tokenType:"close",args:["tr"]},{tokenType:"chars",args:["\n"]},{tokenType:"close",args:["thead"]},{tokenType:"chars",args:["\n"]},{tokenType:"start",args:["tbody",!1]},{tokenType:"end",args:["tbody",!1]},{tokenType:"special",args:["#games.getRoundsWithGames"]},{tokenType:"chars",args:["\n\t"]},{tokenType:"start",args:["tr",!1]},{tokenType:"end",args:["tr",!1]},{tokenType:"chars",args:["\n\t\t"]},{tokenType:"start",args:["td",!1]},{tokenType:"end",args:["td",!1]},{tokenType:"special",args:["."]},{tokenType:"close",args:["td"]},{tokenType:"special",args:["#each courtNames"]},{tokenType:"chars",args:["\n\t\t\t"]},{tokenType:"start",args:["td",!1]},{tokenType:"end",args:["td",!1]},{tokenType:"special",args:["#games.getGameForRoundAndCourt ../. ."]},{tokenType:"chars",args:["\n\t\t\t\t\t"]},{tokenType:"start",args:["a",!1]},{tokenType:"attrStart",args:["href"]},{tokenType:"special",args:["routeUrl ( gameId=id )"]},{tokenType:"attrEnd",args:["href"]},{tokenType:"end",args:["a",!1]},{tokenType:"chars",args:["\n\t\t\t\t\t\t"]},{tokenType:"special",args:["#../teams.getById(homeTeamId)"]},{tokenType:"special",args:["color"]},{tokenType:"special",args:["/./teams@getById"]},{tokenType:"chars",args:["\n\t\t\t\t\t\tv\n\t\t\t\t\t\t"]},{tokenType:"special",args:["#../teams.getById(awayTeamId)"]},{tokenType:"special",args:["color"]},{tokenType:"special",args:["/./teams@getById"]},{tokenType:"chars",args:["\n\t\t\t\t\t"]},{tokenType:"close",args:["a"]},{tokenType:"special",args:["#if isAdmin"]},{tokenType:"chars",args:["\n\t\t\t\t\t\t"]},{tokenType:"start",args:["button",!1]},{tokenType:"attrStart",args:["type"]},{tokenType:"attrValue",args:["button"]},{tokenType:"attrEnd",args:["type"]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["btn btn-danger btn-xs"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"attrStart",args:["($click)"]},{tokenType:"attrValue",args:["deleteGame(.)"]},{tokenType:"attrEnd",args:["($click)"]},{tokenType:"special",args:["#isDestroying"]},{tokenType:"attrStart",args:["disabled"]},{tokenType:"attrEnd",args:["disabled"]},{tokenType:"special",args:["/isDestroying"]},{tokenType:"end",args:["button",!1]},{tokenType:"chars",args:["\n\t\t\t\t\t\t\t\t"]},{tokenType:"start",args:["span",!0]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["glyphicon glyphicon-remove"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["span",!0]},{tokenType:"chars",args:["\n\t\t\t\t\t\t"]},{tokenType:"close",args:["button"]},{tokenType:"special",args:["/if"]},{tokenType:"chars",args:["\n\t\t\t\t"]},{tokenType:"special",args:["/games.getGameForRoundAndCourt"]},{tokenType:"chars",args:["\n\t\t\t"]},{tokenType:"close",args:["td"]},{tokenType:"special",args:["/each"]},{tokenType:"chars",args:["\n\t"]},{tokenType:"close",args:["tr"]},{tokenType:"special",args:["else"]},{tokenType:"chars",args:["\n\t"]},{tokenType:"start",args:["tr",!1]},{tokenType:"end",args:["tr",!1]},{tokenType:"start",args:["td",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["text-center lead"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"attrStart",args:["colspan"]},{tokenType:"attrValue",args:["5"]},{tokenType:"attrEnd",args:["colspan"]},{tokenType:"end",args:["td",!1]},{tokenType:"chars",args:["No Games"]},{tokenType:"close",args:["td"]},{tokenType:"close",args:["tr"]},{tokenType:"special",args:["/games.getRoundsWithGames"]},{tokenType:"chars",args:["\n"]},{tokenType:"close",args:["tbody"]},{tokenType:"chars",args:["\n"]},{tokenType:"close",args:["table"]},{tokenType:"special",args:["#if isAdmin"]},{tokenType:"chars",args:["\n"]},{tokenType:"start",args:["h4",!1]},{tokenType:"end",args:["h4",!1]},{tokenType:"chars",args:["New Game"]},{tokenType:"close",args:["h4"]},{tokenType:"chars",args:["\n"]},{tokenType:"start",args:["form",!1]},{tokenType:"attrStart",args:["($submit)"]},{tokenType:"attrValue",args:["createGame(%event)"]},{tokenType:"attrEnd",args:["($submit)"]},{tokenType:"attrStart",args:["action"]},{tokenType:"attrEnd",args:["action"]},{tokenType:"end",args:["form",!1]},{tokenType:"chars",args:["\n\n\t"]},{tokenType:"start",args:["div",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["form-group"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["div",!1]},{tokenType:"chars",args:["\n\t    "]},{tokenType:"start",args:["label",!1]},{tokenType:"attrStart",args:["for"]},{tokenType:"attrValue",args:["game-round"]},{tokenType:"attrEnd",args:["for"]},{tokenType:"end",args:["label",!1]},{tokenType:"chars",args:["Round"]},{tokenType:"close",args:["label"]},{tokenType:"chars",args:["\n\t    "]},{tokenType:"start",args:["select",!1]},{tokenType:"attrStart",args:["{($value)}"]},{tokenType:"attrValue",args:["selectedRound"]},{tokenType:"attrEnd",args:["{($value)}"]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["form-control"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"attrStart",args:["id"]},{tokenType:"attrValue",args:["game-round"]},{tokenType:"attrEnd",args:["id"]},{tokenType:"end",args:["select",!1]},{tokenType:"special",args:["#games.getAvailableRounds"]},{tokenType:"chars",args:["\n\t    \t\t"]},{tokenType:"start",args:["option",!1]},{tokenType:"attrStart",args:["value"]},{tokenType:"special",args:["."]},{tokenType:"attrEnd",args:["value"]},{tokenType:"end",args:["option",!1]},{tokenType:"special",args:["."]},{tokenType:"close",args:["option"]},{tokenType:"special",args:["/games.getAvailableRounds"]},{tokenType:"chars",args:["\n\t    "]},{tokenType:"close",args:["select"]},{tokenType:"chars",args:["\n\t"]},{tokenType:"close",args:["div"]},{tokenType:"chars",args:["\n\n\t"]},{tokenType:"start",args:["div",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["form-group"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["div",!1]},{tokenType:"chars",args:["\n\t    "]},{tokenType:"start",args:["label",!1]},{tokenType:"attrStart",args:["for"]},{tokenType:"attrValue",args:["game-court"]},{tokenType:"attrEnd",args:["for"]},{tokenType:"end",args:["label",!1]},{tokenType:"chars",args:["Court"]},{tokenType:"close",args:["label"]},{tokenType:"chars",args:["\n\t    "]},{tokenType:"start",args:["select",!1]},{tokenType:"attrStart",args:["{($value)}"]},{tokenType:"attrValue",args:["string-to-any(~selectedCourt)"]},{tokenType:"attrEnd",args:["{($value)}"]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["form-control"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"attrStart",args:["id"]},{tokenType:"attrValue",args:["game-court"]},{tokenType:"attrEnd",args:["id"]},{tokenType:"end",args:["select",!1]},{tokenType:"special",args:["#games.getAvailableCourts(selectedRound)"]},{tokenType:"chars",args:["\n\t\t\t"]},{tokenType:"start",args:["option",!1]},{tokenType:"attrStart",args:["value"]},{tokenType:"special",args:["."]},{tokenType:"attrEnd",args:["value"]},{tokenType:"end",args:["option",!1]},{tokenType:"special",args:["."]},{tokenType:"close",args:["option"]},{tokenType:"special",args:["/ames@getAvailableCourts"]},{tokenType:"chars",args:["\n\t    "]},{tokenType:"close",args:["select"]},{tokenType:"chars",args:["\n\t"]},{tokenType:"close",args:["div"]},{tokenType:"chars",args:["\n\n\t"]},{tokenType:"start",args:["div",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["form-group"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["div",!1]},{tokenType:"chars",args:["\n\t    "]},{tokenType:"start",args:["label",!1]},{tokenType:"attrStart",args:["for"]},{tokenType:"attrValue",args:["game-home"]},{tokenType:"attrEnd",args:["for"]},{tokenType:"end",args:["label",!1]},{tokenType:"chars",args:["Home team"]},{tokenType:"close",args:["label"]},{tokenType:"chars",args:["\n\t    "]},{tokenType:"start",args:["select",!1]},{tokenType:"attrStart",args:["{($value)}"]},{tokenType:"attrValue",args:["game.homeTeamId"]},{tokenType:"attrEnd",args:["{($value)}"]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["form-control"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"attrStart",args:["id"]},{tokenType:"attrValue",args:["game-home"]},{tokenType:"attrEnd",args:["id"]},{tokenType:"end",args:["select",!1]},{tokenType:"chars",args:["\n\t    \t"]},{tokenType:"start",args:["option",!0]},{tokenType:"attrStart",args:["value"]},{tokenType:"attrEnd",args:["value"]},{tokenType:"end",args:["option",!0]},{tokenType:"special",args:['#each ~availableTeamFor("home", selectedRound)']},{tokenType:"chars",args:["\n\t    \t\t"]},{tokenType:"start",args:["option",!1]},{tokenType:"attrStart",args:["value"]},{tokenType:"special",args:["id"]},{tokenType:"attrEnd",args:["value"]},{tokenType:"end",args:["option",!1]},{tokenType:"special",args:["color"]},{tokenType:"chars",args:[" - "]},{tokenType:"special",args:["name"]},{tokenType:"close",args:["option"]},{tokenType:"special",args:["/each"]},{tokenType:"chars",args:["\n\t    "]},{tokenType:"close",args:["select"]},{tokenType:"chars",args:["\n\t\t"]},{tokenType:"start",args:["label",!1]},{tokenType:"attrStart",args:["for"]},{tokenType:"attrValue",args:["game-away"]},{tokenType:"attrEnd",args:["for"]},{tokenType:"end",args:["label",!1]},{tokenType:"chars",args:["Away team"]},{tokenType:"close",args:["label"]},{tokenType:"chars",args:["\n\t    "]},{tokenType:"start",args:["select",!1]},{tokenType:"attrStart",args:["{($value)}"]},{tokenType:"attrValue",args:["game.awayTeamId"]},{tokenType:"attrEnd",args:["{($value)}"]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["form-control"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"attrStart",args:["id"]},{tokenType:"attrValue",args:["game-away"]},{tokenType:"attrEnd",args:["id"]},{tokenType:"end",args:["select",!1]},{tokenType:"chars",args:["\n\t    \t"]},{tokenType:"start",args:["option",!0]},{tokenType:"attrStart",args:["value"]},{tokenType:"attrEnd",args:["value"]},{tokenType:"end",args:["option",!0]},{tokenType:"special",args:['#each ~availableTeamFor("away", selectedRound)']},{tokenType:"chars",args:["\n\t    \t\t"]},{tokenType:"start",args:["option",!1]},{tokenType:"attrStart",args:["value"]},{tokenType:"special",args:["id"]},{tokenType:"attrEnd",args:["value"]},{tokenType:"end",args:["option",!1]},{tokenType:"special",args:["color"]},{tokenType:"chars",args:[" - "]},{tokenType:"special",args:["name"]},{tokenType:"close",args:["option"]},{tokenType:"special",args:["/each"]},{tokenType:"chars",args:["\n\t    "]},{tokenType:"close",args:["select"]},{tokenType:"chars",args:["\n\t"]},{tokenType:"close",args:["div"]},{tokenType:"chars",args:["\n\n\t"]},{tokenType:"start",args:["div",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["form-group"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["div",!1]},{tokenType:"chars",args:["\n\t    "]},{tokenType:"start",args:["label",!1]},{tokenType:"attrStart",args:["for"]},{tokenType:"attrValue",args:["game-videoUrl"]},{tokenType:"attrEnd",args:["for"]},{tokenType:"end",args:["label",!1]},{tokenType:"chars",args:["YouTube URL"]},{tokenType:"close",args:["label"]},{tokenType:"chars",args:["\n\t    "]},{tokenType:"start",args:["input",!0]},{tokenType:"attrStart",args:["type"]},{tokenType:"attrValue",args:["text"]},{tokenType:"attrEnd",args:["type"]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["form-control"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"attrStart",args:["id"]},{tokenType:"attrValue",args:["game-videoUrl"]},{tokenType:"attrEnd",args:["id"]},{tokenType:"attrStart",args:["placeholder"]},{tokenType:"attrValue",args:["https://www.youtube.com/watch?v=y5z1Ym2uJfs"]},{tokenType:"attrEnd",args:["placeholder"]},{tokenType:"attrStart",args:["{($value)}"]},{tokenType:"attrValue",args:["{game.videoUrl}"]},{tokenType:"attrEnd",args:["{($value)}"]},{tokenType:"end",args:["input",!0]},{tokenType:"chars",args:["\n\t"]},{tokenType:"close",args:["div"]},{tokenType:"chars",args:["\n\n\t"]},{tokenType:"start",args:["button",!1]},{tokenType:"attrStart",args:["type"]},{tokenType:"attrValue",args:["submit"]},{tokenType:"attrEnd",args:["type"]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["btn btn-default"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["button",!1]},{tokenType:"chars",args:["Create"]},{tokenType:"close",args:["button"]},{tokenType:"chars",args:["\n"]},{tokenType:"close",args:["form"]},{tokenType:"special",args:["/if"]},{tokenType:"chars",args:["\n\n"]},{tokenType:"start",args:["h2",!1]},{tokenType:"end",args:["h2",!1]},{tokenType:"chars",args:["Teams"]},{tokenType:"close",args:["h2"]},{tokenType:"chars",args:["\n"]},{tokenType:"start",args:["table",!1]},{tokenType:"attrStart",args:["class"]},{
tokenType:"attrValue",args:["table"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["table",!1]},{tokenType:"chars",args:["\n"]},{tokenType:"start",args:["thead",!1]},{tokenType:"end",args:["thead",!1]},{tokenType:"chars",args:["\n\t"]},{tokenType:"start",args:["tr",!1]},{tokenType:"end",args:["tr",!1]},{tokenType:"chars",args:["\n\t\t"]},{tokenType:"start",args:["th",!1]},{tokenType:"end",args:["th",!1]},{tokenType:"chars",args:["Name"]},{tokenType:"close",args:["th"]},{tokenType:"chars",args:["\n\t\t"]},{tokenType:"start",args:["th",!1]},{tokenType:"end",args:["th",!1]},{tokenType:"chars",args:["Color"]},{tokenType:"close",args:["th"]},{tokenType:"chars",args:["\n\t\t"]},{tokenType:"start",args:["th",!1]},{tokenType:"end",args:["th",!1]},{tokenType:"chars",args:["Player 1"]},{tokenType:"close",args:["th"]},{tokenType:"chars",args:["\n\t\t"]},{tokenType:"start",args:["th",!1]},{tokenType:"end",args:["th",!1]},{tokenType:"chars",args:["Player 2"]},{tokenType:"close",args:["th"]},{tokenType:"chars",args:["\n\t\t"]},{tokenType:"start",args:["th",!1]},{tokenType:"end",args:["th",!1]},{tokenType:"chars",args:["Player 3"]},{tokenType:"close",args:["th"]},{tokenType:"chars",args:["\n\t\t"]},{tokenType:"start",args:["th",!1]},{tokenType:"end",args:["th",!1]},{tokenType:"chars",args:["Player 4"]},{tokenType:"close",args:["th"]},{tokenType:"special",args:["#if isAdmin"]},{tokenType:"chars",args:["\n\t\t"]},{tokenType:"start",args:["th",!1]},{tokenType:"end",args:["th",!1]},{tokenType:"close",args:["th"]},{tokenType:"special",args:["/if"]},{tokenType:"chars",args:["\n\t"]},{tokenType:"close",args:["tr"]},{tokenType:"chars",args:["\n"]},{tokenType:"close",args:["thead"]},{tokenType:"chars",args:["\n"]},{tokenType:"start",args:["tbody",!1]},{tokenType:"end",args:["tbody",!1]},{tokenType:"special",args:["#each teams"]},{tokenType:"chars",args:["\n\t"]},{tokenType:"start",args:["tr",!1]},{tokenType:"end",args:["tr",!1]},{tokenType:"chars",args:["\n\t\t"]},{tokenType:"start",args:["td",!1]},{tokenType:"end",args:["td",!1]},{tokenType:"special",args:["name"]},{tokenType:"close",args:["td"]},{tokenType:"chars",args:["\n\t\t"]},{tokenType:"start",args:["td",!1]},{tokenType:"end",args:["td",!1]},{tokenType:"special",args:["color"]},{tokenType:"close",args:["td"]},{tokenType:"chars",args:["\n\t\t"]},{tokenType:"start",args:["td",!1]},{tokenType:"end",args:["td",!1]},{tokenType:"special",args:["#../players.getById(player1Id)"]},{tokenType:"special",args:["name"]},{tokenType:"special",args:["/"]},{tokenType:"close",args:["td"]},{tokenType:"chars",args:["\n\t\t"]},{tokenType:"start",args:["td",!1]},{tokenType:"end",args:["td",!1]},{tokenType:"special",args:["#../players.getById(player2Id)"]},{tokenType:"special",args:["name"]},{tokenType:"special",args:["/"]},{tokenType:"close",args:["td"]},{tokenType:"chars",args:["\n\t\t"]},{tokenType:"start",args:["td",!1]},{tokenType:"end",args:["td",!1]},{tokenType:"special",args:["#../players.getById(player3Id)"]},{tokenType:"special",args:["name"]},{tokenType:"special",args:["/"]},{tokenType:"close",args:["td"]},{tokenType:"chars",args:["\n\t\t"]},{tokenType:"start",args:["td",!1]},{tokenType:"end",args:["td",!1]},{tokenType:"special",args:["#../players.getById(player4Id)"]},{tokenType:"special",args:["name"]},{tokenType:"special",args:["/"]},{tokenType:"close",args:["td"]},{tokenType:"special",args:["#if isAdmin"]},{tokenType:"chars",args:["\n\t\t\t"]},{tokenType:"start",args:["td",!1]},{tokenType:"end",args:["td",!1]},{tokenType:"chars",args:["\n\t\t\t\t"]},{tokenType:"start",args:["button",!1]},{tokenType:"attrStart",args:["type"]},{tokenType:"attrValue",args:["button"]},{tokenType:"attrEnd",args:["type"]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["btn btn-danger"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"attrStart",args:["($click)"]},{tokenType:"attrValue",args:["deleteTeam(.)"]},{tokenType:"attrEnd",args:["($click)"]},{tokenType:"special",args:["#isDestroying"]},{tokenType:"attrStart",args:["disabled"]},{tokenType:"attrEnd",args:["disabled"]},{tokenType:"special",args:["/isDestroying"]},{tokenType:"end",args:["button",!1]},{tokenType:"chars",args:["\n\t\t\t\t\t\t"]},{tokenType:"start",args:["span",!0]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["glyphicon glyphicon-remove"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["span",!0]},{tokenType:"chars",args:["\n\t\t\t\t"]},{tokenType:"close",args:["button"]},{tokenType:"chars",args:["\n\t\t\t"]},{tokenType:"close",args:["td"]},{tokenType:"special",args:["/if"]},{tokenType:"chars",args:["\n\t"]},{tokenType:"close",args:["tr"]},{tokenType:"special",args:["else"]},{tokenType:"chars",args:["\n\t"]},{tokenType:"start",args:["tr",!1]},{tokenType:"end",args:["tr",!1]},{tokenType:"start",args:["td",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["text-center lead"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"attrStart",args:["colspan"]},{tokenType:"special",args:["#if isAdmin"]},{tokenType:"attrValue",args:["6"]},{tokenType:"special",args:["else"]},{tokenType:"attrValue",args:["7"]},{tokenType:"special",args:["/if"]},{tokenType:"attrEnd",args:["colspan"]},{tokenType:"end",args:["td",!1]},{tokenType:"chars",args:["No Teams"]},{tokenType:"close",args:["td"]},{tokenType:"close",args:["tr"]},{tokenType:"special",args:["/each"]},{tokenType:"chars",args:["\n"]},{tokenType:"close",args:["tbody"]},{tokenType:"chars",args:["\n"]},{tokenType:"close",args:["table"]},{tokenType:"special",args:["#if isAdmin"]},{tokenType:"chars",args:["\n"]},{tokenType:"start",args:["h4",!1]},{tokenType:"end",args:["h4",!1]},{tokenType:"chars",args:["New Team"]},{tokenType:"close",args:["h4"]},{tokenType:"chars",args:["\n"]},{tokenType:"start",args:["form",!1]},{tokenType:"attrStart",args:["($submit)"]},{tokenType:"attrValue",args:["createTeam(%event)"]},{tokenType:"attrEnd",args:["($submit)"]},{tokenType:"attrStart",args:["action"]},{tokenType:"attrEnd",args:["action"]},{tokenType:"end",args:["form",!1]},{tokenType:"chars",args:["\n\n\t"]},{tokenType:"start",args:["div",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["form-group"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["div",!1]},{tokenType:"chars",args:["\n\t    "]},{tokenType:"start",args:["label",!1]},{tokenType:"attrStart",args:["for"]},{tokenType:"attrValue",args:["team-name"]},{tokenType:"attrEnd",args:["for"]},{tokenType:"end",args:["label",!1]},{tokenType:"chars",args:["Name"]},{tokenType:"close",args:["label"]},{tokenType:"chars",args:["\n\t    "]},{tokenType:"start",args:["input",!0]},{tokenType:"attrStart",args:["type"]},{tokenType:"attrValue",args:["text"]},{tokenType:"attrEnd",args:["type"]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["form-control"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"attrStart",args:["id"]},{tokenType:"attrValue",args:["team-name"]},{tokenType:"attrEnd",args:["id"]},{tokenType:"attrStart",args:["placeholder"]},{tokenType:"attrValue",args:["team name"]},{tokenType:"attrEnd",args:["placeholder"]},{tokenType:"attrStart",args:["{($value)}"]},{tokenType:"attrValue",args:["team.name"]},{tokenType:"attrEnd",args:["{($value)}"]},{tokenType:"end",args:["input",!0]},{tokenType:"chars",args:["\n\t"]},{tokenType:"close",args:["div"]},{tokenType:"chars",args:["\n\n\t"]},{tokenType:"start",args:["div",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["form-group"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["div",!1]},{tokenType:"chars",args:["\n\t    "]},{tokenType:"start",args:["label",!1]},{tokenType:"attrStart",args:["for"]},{tokenType:"attrValue",args:["team-color"]},{tokenType:"attrEnd",args:["for"]},{tokenType:"end",args:["label",!1]},{tokenType:"chars",args:["Color"]},{tokenType:"close",args:["label"]},{tokenType:"chars",args:["\n\t    "]},{tokenType:"start",args:["select",!1]},{tokenType:"attrStart",args:["{($value)}"]},{tokenType:"attrValue",args:["team.color"]},{tokenType:"attrEnd",args:["{($value)}"]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["form-control"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"attrStart",args:["id"]},{tokenType:"attrValue",args:["team-color"]},{tokenType:"attrEnd",args:["id"]},{tokenType:"end",args:["select",!1]},{tokenType:"special",args:["#each availableColors"]},{tokenType:"chars",args:["\n\t    \t\t"]},{tokenType:"start",args:["option",!1]},{tokenType:"attrStart",args:["value"]},{tokenType:"special",args:["."]},{tokenType:"attrEnd",args:["value"]},{tokenType:"end",args:["option",!1]},{tokenType:"special",args:["."]},{tokenType:"close",args:["option"]},{tokenType:"special",args:["/each"]},{tokenType:"chars",args:["\n\t    "]},{tokenType:"close",args:["select"]},{tokenType:"chars",args:["\n\t"]},{tokenType:"close",args:["div"]},{tokenType:"chars",args:["\n\n\t"]},{tokenType:"start",args:["div",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["form-group"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["div",!1]},{tokenType:"chars",args:["\n\t    "]},{tokenType:"start",args:["label",!1]},{tokenType:"attrStart",args:["for"]},{tokenType:"attrValue",args:["team-player1"]},{tokenType:"attrEnd",args:["for"]},{tokenType:"end",args:["label",!1]},{tokenType:"chars",args:["Player 1"]},{tokenType:"close",args:["label"]},{tokenType:"chars",args:["\n\t    "]},{tokenType:"start",args:["select",!1]},{tokenType:"attrStart",args:["{($value)}"]},{tokenType:"attrValue",args:["team.player1Id"]},{tokenType:"attrEnd",args:["{($value)}"]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["form-control"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"attrStart",args:["id"]},{tokenType:"attrValue",args:["team-player1"]},{tokenType:"attrEnd",args:["id"]},{tokenType:"end",args:["select",!1]},{tokenType:"chars",args:["\n\t    \t"]},{tokenType:"start",args:["option",!0]},{tokenType:"attrStart",args:["value"]},{tokenType:"attrEnd",args:["value"]},{tokenType:"end",args:["option",!0]},{tokenType:"special",args:["#eachOf ~availablePlayersFor(team,1)"]},{tokenType:"chars",args:["\n\t    \t\t"]},{tokenType:"start",args:["option",!1]},{tokenType:"attrStart",args:["value"]},{tokenType:"special",args:["id"]},{tokenType:"attrEnd",args:["value"]},{tokenType:"end",args:["option",!1]},{tokenType:"special",args:["name"]},{tokenType:"close",args:["option"]},{tokenType:"special",args:["/eachOf"]},{tokenType:"chars",args:["\n\t    "]},{tokenType:"close",args:["select"]},{tokenType:"chars",args:["\n\t"]},{tokenType:"close",args:["div"]},{tokenType:"chars",args:["\n\n\t"]},{tokenType:"start",args:["div",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["form-group"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["div",!1]},{tokenType:"chars",args:["\n\t    "]},{tokenType:"start",args:["label",!1]},{tokenType:"attrStart",args:["for"]},{tokenType:"attrValue",args:["team-player2"]},{tokenType:"attrEnd",args:["for"]},{tokenType:"end",args:["label",!1]},{tokenType:"chars",args:["Player 2"]},{tokenType:"close",args:["label"]},{tokenType:"chars",args:["\n\t    "]},{tokenType:"start",args:["select",!1]},{tokenType:"attrStart",args:["{($value)}"]},{tokenType:"attrValue",args:["team.player2Id"]},{tokenType:"attrEnd",args:["{($value)}"]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["form-control"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"attrStart",args:["id"]},{tokenType:"attrValue",args:["team-player2"]},{tokenType:"attrEnd",args:["id"]},{tokenType:"end",args:["select",!1]},{tokenType:"chars",args:["\n\t    \t"]},{tokenType:"start",args:["option",!0]},{tokenType:"attrStart",args:["value"]},{tokenType:"attrEnd",args:["value"]},{tokenType:"end",args:["option",!0]},{tokenType:"special",args:["#eachOf ~availablePlayersFor(team,2)"]},{tokenType:"chars",args:["\n\t    \t\t"]},{tokenType:"start",args:["option",!1]},{tokenType:"attrStart",args:["value"]},{tokenType:"special",args:["id"]},{tokenType:"attrEnd",args:["value"]},{tokenType:"end",args:["option",!1]},{tokenType:"special",args:["name"]},{tokenType:"close",args:["option"]},{tokenType:"special",args:["/eachOf"]},{tokenType:"chars",args:["\n\t    "]},{tokenType:"close",args:["select"]},{tokenType:"chars",args:["\n\t"]},{tokenType:"close",args:["div"]},{tokenType:"chars",args:["\n\n\t"]},{tokenType:"start",args:["div",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["form-group"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["div",!1]},{tokenType:"chars",args:["\n\t    "]},{tokenType:"start",args:["label",!1]},{tokenType:"attrStart",args:["for"]},{tokenType:"attrValue",args:["team-player3"]},{tokenType:"attrEnd",args:["for"]},{tokenType:"end",args:["label",!1]},{tokenType:"chars",args:["Player 3"]},{tokenType:"close",args:["label"]},{tokenType:"chars",args:["\n\t    "]},{tokenType:"start",args:["select",!1]},{tokenType:"attrStart",args:["{($value)}"]},{tokenType:"attrValue",args:["team.player3Id"]},{tokenType:"attrEnd",args:["{($value)}"]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["form-control"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"attrStart",args:["id"]},{tokenType:"attrValue",args:["team-player3"]},{tokenType:"attrEnd",args:["id"]},{tokenType:"end",args:["select",!1]},{tokenType:"chars",args:["\n\t    \t"]},{tokenType:"start",args:["option",!0]},{tokenType:"attrStart",args:["value"]},{tokenType:"attrEnd",args:["value"]},{tokenType:"end",args:["option",!0]},{tokenType:"special",args:["#eachOf ~availablePlayersFor(team,3)"]},{tokenType:"chars",args:["\n\t    \t\t"]},{tokenType:"start",args:["option",!1]},{tokenType:"attrStart",args:["value"]},{tokenType:"special",args:["id"]},{tokenType:"attrEnd",args:["value"]},{tokenType:"end",args:["option",!1]},{tokenType:"special",args:["name"]},{tokenType:"close",args:["option"]},{tokenType:"special",args:["/eachOf"]},{tokenType:"chars",args:["\n\t    "]},{tokenType:"close",args:["select"]},{tokenType:"chars",args:["\n\t"]},{tokenType:"close",args:["div"]},{tokenType:"chars",args:["\n\n\t"]},{tokenType:"start",args:["div",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["form-group"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["div",!1]},{tokenType:"chars",args:["\n\t    "]},{tokenType:"start",args:["label",!1]},{tokenType:"attrStart",args:["for"]},{tokenType:"attrValue",args:["team-player4"]},{tokenType:"attrEnd",args:["for"]},{tokenType:"end",args:["label",!1]},{tokenType:"chars",args:["Player 4"]},{tokenType:"close",args:["label"]},{tokenType:"chars",args:["\n\t    "]},{tokenType:"start",args:["select",!1]},{tokenType:"attrStart",args:["{($value)}"]},{tokenType:"attrValue",args:["team.player4Id"]},{tokenType:"attrEnd",args:["{($value)}"]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["form-control"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"attrStart",args:["id"]},{tokenType:"attrValue",args:["team-player4"]},{tokenType:"attrEnd",args:["id"]},{tokenType:"end",args:["select",!1]},{tokenType:"chars",args:["\n\t    \t"]},{tokenType:"start",args:["option",!0]},{tokenType:"attrStart",args:["value"]},{tokenType:"attrEnd",args:["value"]},{tokenType:"end",args:["option",!0]},{tokenType:"special",args:["#eachOf ~availablePlayersFor(team,4)"]},{tokenType:"chars",args:["\n\t    \t\t"]},{tokenType:"start",args:["option",!1]},{tokenType:"attrStart",args:["value"]},{tokenType:"special",args:["id"]},{tokenType:"attrEnd",args:["value"]},{tokenType:"end",args:["option",!1]},{tokenType:"special",args:["name"]},{tokenType:"close",args:["option"]},{tokenType:"special",args:["/eachOf"]},{tokenType:"chars",args:["\n\t    "]},{tokenType:"close",args:["select"]},{tokenType:"chars",args:["\n\t"]},{tokenType:"close",args:["div"]},{tokenType:"chars",args:["\n\n\t"]},{tokenType:"start",args:["button",!1]},{tokenType:"attrStart",args:["type"]},{tokenType:"attrValue",args:["submit"]},{tokenType:"attrEnd",args:["type"]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["btn btn-default"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["button",!1]},{tokenType:"chars",args:["Create"]},{tokenType:"close",args:["button"]},{tokenType:"special",args:["#if teamSavePromise.isRejected"]},{tokenType:"chars",args:["\n\t"]},{tokenType:"special",args:["#each teamSavePromise.reason.responseJSON"]},{tokenType:"chars",args:["\n\t\t"]},{tokenType:"start",args:["p",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["text-danger"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["p",!1]},{tokenType:"special",args:["."]},{tokenType:"close",args:["p"]},{tokenType:"special",args:["/each"]},{tokenType:"chars",args:["\n\t"]},{tokenType:"special",args:["/if"]},{tokenType:"chars",args:["\n"]},{tokenType:"close",args:["form"]},{tokenType:"special",args:["/if"]},{tokenType:"chars",args:["\n"]},{tokenType:"special",args:["else"]},{tokenType:"chars",args:["\n\tTournament not found."]},{tokenType:"special",args:["/if"]},{tokenType:"chars",args:["\n\n"]},{tokenType:"start",args:["h2",!1]},{tokenType:"end",args:["h2",!1]},{tokenType:"chars",args:["Stats"]},{tokenType:"close",args:["h2"]},{tokenType:"chars",args:["\n"]},{tokenType:"start",args:["table",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["table"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["table",!1]},{tokenType:"chars",args:["\n\t"]},{tokenType:"start",args:["thead",!1]},{tokenType:"end",args:["thead",!1]},{tokenType:"chars",args:["\n\t\t"]},{tokenType:"start",args:["tr",!1]},{tokenType:"end",args:["tr",!1]},{tokenType:"chars",args:["\n\t\t\t"]},{tokenType:"start",args:["th",!1]},{tokenType:"end",args:["th",!1]},{tokenType:"chars",args:["Name"]},{tokenType:"close",args:["th"]},{tokenType:"special",args:["#each statHeaders"]},{tokenType:"chars",args:["\n\t\t\t\t"]},{tokenType:"start",args:["th",!1]},{tokenType:"end",args:["th",!1]},{tokenType:"special",args:["name"]},{tokenType:"close",args:["th"]},{tokenType:"special",args:["/each"]},{tokenType:"chars",args:["\n\t\t"]},{tokenType:"close",args:["tr"]},{tokenType:"chars",args:["\n\t"]},{tokenType:"close",args:["thead"]},{tokenType:"chars",args:["\n\t"]},{tokenType:"start",args:["tbody",!1]},{tokenType:"end",args:["tbody",!1]},{tokenType:"special",args:["#if stats.length"]},{tokenType:"chars",args:["\n\t\t\t"]},{tokenType:"special",args:["#each players"]},{tokenType:"special",args:["#if stats.byPlayer[id]"]},{tokenType:"chars",args:["\n\t\t\t\t\t"]},{tokenType:"start",args:["tr",!1]},{tokenType:"end",args:["tr",!1]},{tokenType:"chars",args:["\n\t\t\t\t\t\t"]},{tokenType:"start",args:["td",!1]},{tokenType:"end",args:["td",!1]},{tokenType:"start",args:["a",!1]},{tokenType:"attrStart",args:["href"]},{tokenType:"special",args:["routeUrl ( playerId=id )"]},{tokenType:"attrEnd",args:["href"]},{tokenType:"end",args:["a",!1]},{tokenType:"special",args:["name"]},{tokenType:"close",args:["a"]},{tokenType:"close",args:["td"]},{tokenType:"special",args:["#each stats.byPlayer[id].aggregated"]},{tokenType:"chars",args:["\n\t\t\t\t\t\t\t"]},{tokenType:"start",args:["td",!1]},{tokenType:"end",args:["td",!1]},{tokenType:"special",args:["value"]},{tokenType:"close",args:["td"]},{tokenType:"special",args:["/each"]},{tokenType:"chars",args:["\n\t\t\t\t\t"]},{tokenType:"close",args:["tr"]},{tokenType:"special",args:["/if"]},{tokenType:"chars",args:["\n\t\t\t"]},{tokenType:"special",args:["/each"]},{tokenType:"chars",args:["\t\t"]},{tokenType:"special",args:["else"]},{tokenType:"chars",args:["\n\t\t\t"]},{tokenType:"start",args:["tr",!1]},{tokenType:"end",args:["tr",!1]},{tokenType:"start",args:["td",!1]},{tokenType:"attrStart",args:["class"]},{tokenType:"attrValue",args:["text-center lead"]},{tokenType:"attrEnd",args:["class"]},{tokenType:"end",args:["td",!1]},{tokenType:"chars",args:["No Stats"]},{tokenType:"close",args:["td"]},{tokenType:"close",args:["tr"]},{tokenType:"special",args:["/if"]},{tokenType:"chars",args:["\n\t"]},{tokenType:"close",args:["tbody"]},{tokenType:"chars",args:["\n"]},{tokenType:"close",args:["table"]},{tokenType:"chars",args:["\n"]},{tokenType:"done",args:[]}]);return function(e,a,s){var o={module:t};return a instanceof n.Options||(a=new n.Options(a||{})),r(e,a.add(o),s)}}),define("bitballs@0.4.0#components/tournament/details/details",["exports","can-component","bitballs/models/team","bitballs/models/game","bitballs/models/player","bitballs/models/tournament","bitballs/models/stat","bitballs/models/session","can-define/map/map","can-define-stream-kefir","./details.stache!","bootstrap/dist/css/bootstrap.css!","can-stache/helpers/route"],function(t,e,n,r,a,s,o,i,u,l,c){"use strict";function h(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.Component=t.ViewModel=void 0;var p=h(e),y=h(n),f=h(r),g=h(a),d=h(s),_=h(o),T=h(i),k=h(u),m=h(l),v=h(c),b=t.ViewModel=k.default.extend("TournamentDetails",{sealed:!1},{get tournamentPromise(){return d.default.get({id:this.tournamentId})},isAdmin:{type:"boolean",value:!1},tournament:{get:function(t,e){this.tournamentPromise.then(e)}},get gamesPromise(){return f.default.getList({where:{tournamentId:this.tournamentId}})},games:{get:function(t,e){this.gamesPromise.then(e)}},get gamesLength(){return this.games?this.games.length:0},get teamsPromise(){return y.default.getList({where:{tournamentId:this.tournamentId}})},teams:{get:function(t,e){this.teamsPromise.then(e)}},get availableColors(){var t=this.teams;if(t){var e=y.default.colors.slice(0);return t.each(function(t){var n=e.indexOf(t.color);-1!==n&&e.splice(n,1)}),e}return y.default.colors},get courtNames(){return f.default.courtNames},game:{Value:f.default},session:T.default,team:{Value:y.default},playersPromise:{value:function(){return g.default.getList({orderBy:"name"})}},players:{get:function(t,e){this.playersPromise.then(e)}},get statsPromise(){return _.default.getList({})},stats:{get:function(t,e){if(this.games){var n=[];this.games.forEach(function(t){var e=t.id;return n.push(e)}),this.statsPromise.then(function(t){t=t.filter(function(t){var e=t.gameId;return n.includes(e)}),e(t)})}}},userSelectedRound:{value:null},selectedRound:{type:"string",stream:function(t){var e=this.stream(".firstAvailableRound");return t.merge(e)}},get firstAvailableRound(){return this.games&&this.games.getAvailableRounds()[0]},userSelectedCourt:{value:null},selectedCourt:{type:"string",stream:function(t){var e=this,n=this.stream("selectedRound");return t.map(function(t){return{type:"selectedCourt",value:t}}).merge(n).scan(function(t,n){if("selectedCourt"===n.type)return n.value;if("selectedRound"===n.type){var r=e.games&&e.games.getAvailableCourts(e.selectedRound);if(r)return r[t-1]?t:r[0]}},"1")}},get teamIdMap(){var t={},e=this.teams;return e&&e.each(function(e){t[e.id]=e}),t},availableTeamFor:function(t,e){var n=this.teams,r=this.games;if(!r||!n)return[];if(!e)return n;var a=n.slice(0);r.forEach(function(t){t.round===e&&(a.removeById(t.homeTeamId),a.removeById(t.awayTeamId))});var s="home"===t?"away":"home",o=this.game[s+"TeamId"];return o&&a.removeById(o),a},availablePlayersFor:function(t,e){var n=this.players,r=this.teams;if(n&&r){var a={};return r.each(function(e){e!==t&&[1,2,3,4].forEach(function(t){a[e["player"+t+"Id"]]=!0})}),[1,2,3,4].forEach(function(n){n!==e&&(a[t["player"+n+"Id"]]=!0)}),n.filter(function(t){return!a[t.id]})}return[]},createTeam:function(t){t&&t.preventDefault();var e=this;this.team.color||(this.team.color=this.availableColors[0]),this.team.tournamentId=this.tournamentId,this.teamSavePromise=this.team.save(function(){e.team=new y.default})},createGame:function(t){t.preventDefault();var e=this,n=this.game;n.set({round:this.selectedRound,court:this.selectedCourt,tournamentId:this.tournamentId}),n.save(function(){e.game=new f.default})},deleteGame:function(t){window.confirm("Are you sure you want to delete this game?")&&t.destroy()},deleteTeam:function(t){window.confirm("Are you sure you want to delete this team?")&&t.destroy()}});(0,m.default)(b),t.Component=p.default.extend({tag:"tournament-details",view:v.default,ViewModel:b})});